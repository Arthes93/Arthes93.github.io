<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Victor</title>
    <link>https://ckck803.github.io/</link>
    
    <atom:link href="https://ckck803.github.io/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>백문이 불여일타</description>
    <pubDate>Tue, 23 Mar 2021 13:24:56 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Spring Security - Authentication 객체와 저장 방식</title>
      <link>https://ckck803.github.io/2021/03/20/springboot/security/study/authentication/</link>
      <guid>https://ckck803.github.io/2021/03/20/springboot/security/study/authentication/</guid>
      <pubDate>Sat, 20 Mar 2021 13:25:35 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/security/spring-security/securitycontextholder.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;SecutiryContextHolder&quot;&gt;&lt;a href=&quot;#SecutiryCo</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/security/spring-security/securitycontextholder.png"></p><h2 id="SecutiryContextHolder"><a href="#SecutiryContextHolder" class="headerlink" title="SecutiryContextHolder"></a>SecutiryContextHolder</h2><p>SecurityContext는 일반적으로 <strong>ThreadLocal에</strong> 저장되는데 SecutiryContextHolder는 ThreadLocal에 쉽게 저장하고 가져올 수 있게 도와주는 Class이다.<br>ThreadLocal</p><p>SecurityContextHolder에서 SecurityContext를 저장하는 전략은 세가지가 있다.</p><ul><li><strong>MODE_THREADLOCAL</strong><ul><li>한 스레드당 securityContext를 저장하고 접근이 가능하다</li></ul></li><li><strong>MODE_INHERITABLETHREADLOCAL</strong><ul><li>메인 스레드와 자식 스레드에서 동일한 SecurityContext를 갖고 접근이 가능하다</li></ul></li><li><strong>MODE_GLOBAL</strong><ul><li>응용 프로그램내에서 단 하나의 SecurityContext를 저장하고 모두 접근이 가능하다.</li></ul></li></ul><h2 id="SecurityContext"><a href="#SecurityContext" class="headerlink" title="SecurityContext"></a>SecurityContext</h2><p>SecurityContext는 Authentication 객체를 보관하는 역할을 한다.</p><h2 id="Authentication"><a href="#Authentication" class="headerlink" title="Authentication"></a>Authentication</h2><p>Authentication 객체 내에는 자원에 접긍하기 위한 대상의 정보와 권한 정보가 들어가 있다. Authentication 객체의 대표적인 구현 클래스는 <strong>UsernamePasswordAuthenticationToken</strong> 이 있다.</p><p>Authentication 객체 내에 Principal, Credentials, GrantedAuthority 가 있다.</p><ul><li><strong>Principal</strong><ul><li>Object 타입으로 보통은 User ID가 들어가거나 UserDetails가 들어가게 된다.</li></ul></li><li><strong>Credentials</strong><ul><li>Object 타입으로 보통은 User Password가 들어가 있다.</li></ul></li><li><strong>GrantedAuthority</strong><ul><li>접근 권한 목록들을 가지고 있다.</li></ul></li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/">Spring Security</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/Spring-Security/">Spring Security</category>
      
      
      <comments>https://ckck803.github.io/2021/03/20/springboot/security/study/authentication/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Security - UsernamePasswordAuthenticationFilter</title>
      <link>https://ckck803.github.io/2021/03/20/springboot/security/study/usernamepasswordAuthenticationFilter/</link>
      <guid>https://ckck803.github.io/2021/03/20/springboot/security/study/usernamepasswordAuthenticationFilter/</guid>
      <pubDate>Sat, 20 Mar 2021 13:25:35 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/spring-boot-logo.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;UsernamePasswordAuthenticationFilter&quot;&gt;&lt;a href=&quot;#UsernamePasswordAuthentic</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/spring-boot-logo.png"></p><h1 id="UsernamePasswordAuthenticationFilter"><a href="#UsernamePasswordAuthenticationFilter" class="headerlink" title="UsernamePasswordAuthenticationFilter"></a>UsernamePasswordAuthenticationFilter</h1><p><strong>AbstractAuthenticationProcessingFilter</strong>를 상속한 객체로 Username과 Password를 이용해 보안인증을 진행할 때 사용하는 Filter이다.</p><h2 id="1-Authentication-객체-생성"><a href="#1-Authentication-객체-생성" class="headerlink" title="1. Authentication 객체 생성"></a>1. Authentication 객체 생성</h2><ul><li>사용자 요청으로 부터 username과 password를 가져온다.</li><li>username과 password를 Authentication을 구현한 <strong>UsernamePasswordAuthenticationToken</strong> 객체를 생성</li><li>생성된 <strong>Authentication</strong> 객체는 <strong>AuthenticationManager</strong> 객체를 통해 인증을 진행한다.</li><li>Spring Security에서는 AuthenticationManager 객체를 구현한 <strong>ProviderManager</strong> 객체를 사용한다.</li></ul><p><em>UsernamePasswordAuthenticationFilter.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Authentication <span class="title">attemptAuthentication</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.postOnly &amp;&amp; !request.getMethod().equals(<span class="string">&quot;POST&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> AuthenticationServiceException(<span class="string">&quot;Authentication method not supported: &quot;</span> + request.getMethod());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// reqeust로부터 username을 가져온다.</span></span><br><span class="line">    String username = obtainUsername(request);</span><br><span class="line">    username = (username != <span class="keyword">null</span>) ? username : <span class="string">&quot;&quot;</span>;</span><br><span class="line">    username = username.trim();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// request로부터 password를 가져온다.</span></span><br><span class="line">    String password = obtainPassword(request);</span><br><span class="line">    password = (password != <span class="keyword">null</span>) ? password : <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    UsernamePasswordAuthenticationToken authRequest = <span class="keyword">new</span> UsernamePasswordAuthenticationToken(username, password);</span><br><span class="line">    <span class="comment">// Allow subclasses to set the &quot;details&quot; property</span></span><br><span class="line">    setDetails(request, authRequest);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.getAuthenticationManager().authenticate(authRequest);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="2-ProviderManager를-통한-인증-진행"><a href="#2-ProviderManager를-통한-인증-진행" class="headerlink" title="2. ProviderManager를 통한 인증 진행"></a>2. ProviderManager를 통한 인증 진행</h2><p><strong>ProviderManager</strong> 객체는 인증을 직접 진행하는 하지 않는다. 대신, 인증 위한 다양한 <strong>AuthenticationProvider</strong> 객체들을 가지고 있고 AuthenticationProvider 객체에게 <strong>인증을 위임</strong>하는 형태로 인증을 진행한다.</p><ul><li>ProviderManager에서 적절한 AuthenticationProvider 객체를 가져온다.</li><li>가져온 AuthenticationProvider를 이용해 Authentication객체 인증을 진행</li><li>인증이 완료 되면 <strong>새로운 Authentication 객체</strong>를 반환하게 된다.</li><li>만일 현재 ProviderManager에서 적절한 AuthenticationProvider 객체가 없다면 <strong>부모 ProviderManager</strong>로 이동해 인증을 시도한다.</li></ul><p><em>ProviderManager.java</em> <em>(인증 프로세스를 중심으로 보기 위해 예외처리와 관련된 부분은 삭제를 했다.)</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Authentication <span class="title">authenticate</span><span class="params">(Authentication authentication)</span> <span class="keyword">throws</span> AuthenticationException </span>&#123;</span><br><span class="line">    Class&lt;? extends Authentication&gt; toTest = authentication.getClass();</span><br><span class="line">    Authentication result = <span class="keyword">null</span>;</span><br><span class="line">    Authentication parentResult = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 인증을 진행하기 위한 AuthenticationProvider를 가져온다.</span></span><br><span class="line">    <span class="keyword">for</span> (AuthenticationProvider provider : getProviders()) &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// AuthenticationProvider가 Authentication객체 인증을 지원하는지 확인</span></span><br><span class="line">        <span class="keyword">if</span> (!provider.supports(toTest)) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            result = provider.authenticate(authentication);</span><br><span class="line">            <span class="keyword">if</span> (result != <span class="keyword">null</span>) &#123;</span><br><span class="line">                <span class="comment">// 기존의 Authentication 객체와 result를 이용해 새로운 Authentication 객체를 생성</span></span><br><span class="line">                copyDetails(authentication, result);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (AccountStatusException | InternalAuthenticationServiceException ex) &#123;</span><br><span class="line">            prepareException(ex, authentication);</span><br><span class="line">            <span class="keyword">throw</span> ex;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (AuthenticationException ex) &#123;</span><br><span class="line">            lastException = ex;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (result == <span class="keyword">null</span> &amp;&amp; <span class="keyword">this</span>.parent != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="comment">// Allow the parent to try.</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            parentResult = <span class="keyword">this</span>.parent.authenticate(authentication);</span><br><span class="line">            result = parentResult;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (ProviderNotFoundException ex) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">catch</span> (AuthenticationException ex) &#123;</span><br><span class="line">            parentException = ex;</span><br><span class="line">            lastException = ex;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (result != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.eraseCredentialsAfterAuthentication &amp;&amp; (result <span class="keyword">instanceof</span> CredentialsContainer)) &#123;</span><br><span class="line">            <span class="comment">// 인증을 완료한 후에 Authentication 객체에서 Credentials와 같은 민감한 정보를 지운다.</span></span><br><span class="line">            ((CredentialsContainer) result).eraseCredentials();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (parentResult == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.eventPublisher.publishAuthenticationSuccess(result);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 인증이 완료된 Authentication 객체를 반환한다.</span></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 다양한 예외 처리들 생략 //</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="인증-전-Authentication-객체"><a href="#인증-전-Authentication-객체" class="headerlink" title="인증 전 Authentication 객체"></a>인증 전 Authentication 객체</h4><p>인증 전 Authenticatin 객체내의 <strong>principal</strong>에는 username이 <strong>credentials</strong>는 password가 들어있고, 인증 유무를 나타내는 authenticated 값이 false로 나타나 있다.</p><p><img src="/images/springboot/security/spring-security/authentication.png"></p><h4 id="인증-후-Authentication-객체"><a href="#인증-후-Authentication-객체" class="headerlink" title="인증 후 Authentication 객체"></a>인증 후 Authentication 객체</h4><p>인증을 진행한 후 인증 전과 다르게 Authenticatin 객체의 principal에는 <strong>User</strong> 객체가 들어갔고 authenticated 값이 true가 됐다. 최종적으로 반환 될 때는 Authenticatin 객체에서 credentials를 지우고 반환한다.</p><p><img src="/images/springboot/security/spring-security/authentication-result.png"></p><h4 id="ProviderManager-hierarchy"><a href="#ProviderManager-hierarchy" class="headerlink" title="ProviderManager hierarchy"></a>ProviderManager hierarchy</h4><p>각 ProviderManager에는 AuthenticationProvider 객체들이 있다. 만약 현재의 ProviderManager에 적절한 AuthenticationProvider가 없을 경우 parent ProviderManager로 이동하게 된다. parent ProviderManager 역시 AuthenticationProvider 객체들이 존재한다. 여기서의 parent는 상속 개념이 아니라 field값으로 parent를 가지고 있다.</p><p><img src="/images/springboot/security/spring-security/providermanager-hierarchy.png"></p><h2 id="3-인증-완료-후-작업"><a href="#3-인증-완료-후-작업" class="headerlink" title="3. 인증 완료 후 작업"></a>3. 인증 완료 후 작업</h2><p>인증이 완료된 후 작업으로는 Session에 대한 처리와 SecurityContextHolder에 Authentication 객체를 등록하는 일이 남아 있다.</p><p><strong>AbstractAuthenticationProcessingFilter.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain chain)</span></span></span><br><span class="line"><span class="function">        <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!requiresAuthentication(request, response)) &#123;</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 인증이 완료 된 후 Authentication 객체를 반환받는다.</span></span><br><span class="line">        Authentication authenticationResult = attemptAuthentication(request, response);</span><br><span class="line">        <span class="keyword">if</span> (authenticationResult == <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Session에 대한 설정을 한다. Session Id를 변경</span></span><br><span class="line">        <span class="keyword">this</span>.sessionStrategy.onAuthentication(authenticationResult, request, response);</span><br><span class="line">        <span class="comment">// Authentication success</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.continueChainBeforeSuccessfulAuthentication) &#123;</span><br><span class="line">            chain.doFilter(request, response);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// SecurityContextHlder에 Authentication 객체를 등록</span></span><br><span class="line">        successfulAuthentication(request, response, chain, authenticationResult);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (InternalAuthenticationServiceException failed) &#123;</span><br><span class="line">        <span class="keyword">this</span>.logger.error(<span class="string">&quot;An internal error occurred while trying to authenticate the user.&quot;</span>, failed);</span><br><span class="line">        unsuccessfulAuthentication(request, response, failed);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (AuthenticationException ex) &#123;</span><br><span class="line">        <span class="comment">// Authentication failed</span></span><br><span class="line">        unsuccessfulAuthentication(request, response, ex);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="SecurityContextHolder에-Authentication-객체를-등록"><a href="#SecurityContextHolder에-Authentication-객체를-등록" class="headerlink" title="SecurityContextHolder에 Authentication 객체를 등록"></a>SecurityContextHolder에 Authentication 객체를 등록</h4><p>successfulAuthentication 메소드는 인증이 성공적으로 이루어 졌을 때 호출되는 메소드로 크게 3가지 작업을 진행한다.</p><ul><li><strong>SecurityContextHolder</strong>로부터 <strong>SecurityContext</strong> 객체를 가져와 Authentication 객체를 넣어준다.</li><li><strong>Remember-Me</strong>에 대한 설정을 해준다.</li><li>인증이 완료 되면 successHandler를 이용해 정상적으로 인증이 완료 됐을 때의 작업을 진행한다.<ul><li>SecurityConfig에서 <strong>http.successHandler()</strong> 메소드로 등록한 Handler객체가 실행된다.</li></ul></li></ul><p><strong>AbstractAuthenticationProcessingFilter.java</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">successfulAuthentication</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain chain,</span></span></span><br><span class="line"><span class="function"><span class="params">        Authentication authResult)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line"></span><br><span class="line">    SecurityContextHolder.getContext().setAuthentication(authResult);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.logger.isDebugEnabled()) &#123;</span><br><span class="line">        <span class="keyword">this</span>.logger.debug(LogMessage.format(<span class="string">&quot;Set SecurityContextHolder to %s&quot;</span>, authResult));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.rememberMeServices.loginSuccess(request, response, authResult);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.eventPublisher != <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">this</span>.eventPublisher.publishEvent(<span class="keyword">new</span> InteractiveAuthenticationSuccessEvent(authResult, <span class="keyword">this</span>.getClass()));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.successHandler.onAuthenticationSuccess(request, response, authResult);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/">Spring Security</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/Spring-Security/">Spring Security</category>
      
      
      <comments>https://ckck803.github.io/2021/03/20/springboot/security/study/usernamepasswordAuthenticationFilter/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>1194-달이차오른다_가자</title>
      <link>https://ckck803.github.io/2021/03/20/algorithm/baekjoon/BFS/1194-%EB%8B%AC%EC%9D%B4%EC%B0%A8%EC%98%A4%EB%A5%B8%EB%8B%A4-%EA%B0%80%EC%9E%90/</link>
      <guid>https://ckck803.github.io/2021/03/20/algorithm/baekjoon/BFS/1194-%EB%8B%AC%EC%9D%B4%EC%B0%A8%EC%98%A4%EB%A5%B8%EB%8B%A4-%EA%B0%80%EC%9E%90/</guid>
      <pubDate>Fri, 19 Mar 2021 17:21:07 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/baekjoon/baekjoon.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;백준-1194-달이-차오른다-가자&quot;&gt;&lt;a href=&quot;#백준-1194-달이-차오른다-가자&quot; class=&quot;headerlink&quot; title=&quot;백준 1194</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/baekjoon/baekjoon.png"></p><h1 id="백준-1194-달이-차오른다-가자"><a href="#백준-1194-달이-차오른다-가자" class="headerlink" title="백준 1194 - 달이 차오른다. 가자"></a>백준 1194 - 달이 차오른다. 가자</h1><p><a href="https://www.acmicpc.net/problem/1194">https://www.acmicpc.net/problem/1194</a></p><h2 id="문제-해설"><a href="#문제-해설" class="headerlink" title="문제 해설"></a>문제 해설</h2><p>기존 BFS문제를 푸는 형식에 <strong>비트마스킹</strong>까지 더해진 문제이다. 비트마스킹을 통해 키를 가지고 있는 각각의 상태들을 체크할 수 있다. 키는 총 6개가 주어지기 때문에 <code>50x50x64 = 160,000</code> 의 공간 복잡도를 갖게 돼 메모리 제한에 걸리지 않는다.</p><h2 id="소스-코드"><a href="#소스-코드" class="headerlink" title="소스 코드"></a>소스 코드</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> N, M;</span><br><span class="line"><span class="keyword">char</span> Map[<span class="number">55</span>][<span class="number">55</span>];</span><br><span class="line"><span class="keyword">bool</span> check[<span class="number">1</span> &lt;&lt; <span class="number">6</span>][<span class="number">55</span>][<span class="number">55</span>];</span><br><span class="line"><span class="keyword">int</span> dx[<span class="number">4</span>] = &#123;<span class="number">1</span>, <span class="number">-1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">int</span> dy[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">-1</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;&gt; q;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> startY, startX;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">point</span> &#123;</span></span><br><span class="line">    <span class="keyword">int</span> y;</span><br><span class="line">    <span class="keyword">int</span> x;</span><br><span class="line">    <span class="keyword">int</span> key;</span><br><span class="line">    <span class="keyword">int</span> count;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">bfs</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;point&gt; q;</span><br><span class="line">    q.push(&#123;startY, startX, <span class="number">0</span>, <span class="number">0</span>&#125;);</span><br><span class="line">    check[<span class="number">0</span>][startY][startX] = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!q.empty()) &#123;</span><br><span class="line">        <span class="keyword">int</span> cntY = q.front().y;</span><br><span class="line">        <span class="keyword">int</span> cntX = q.front().x;</span><br><span class="line">        <span class="keyword">int</span> cntKey = q.front().key;</span><br><span class="line">        <span class="keyword">int</span> cntCount = q.front().count;</span><br><span class="line">        q.pop();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (Map[cntY][cntX] == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> cntCount;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">int</span> ny = cntY + dy[i];</span><br><span class="line">            <span class="keyword">int</span> nx = cntX + dx[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="number">0</span> &gt;= ny || ny &gt; N || <span class="number">0</span> &gt;= nx || nx &gt; M) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (check[cntKey][ny][nx] == <span class="literal">true</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (Map[ny][nx] == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                check[cntKey][ny][nx] = <span class="literal">true</span>;</span><br><span class="line">                q.push(&#123;ny, nx, cntKey, cntCount + <span class="number">1</span>&#125;);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 열쇠에 마주쳤을 경우</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&#x27;a&#x27;</span> &lt;= Map[ny][nx] &amp;&amp; Map[ny][nx] &lt;= <span class="string">&#x27;f&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> key = (<span class="number">1</span> &lt;&lt; (Map[ny][nx] - <span class="string">&#x27;a&#x27;</span>));</span><br><span class="line">                    check[cntKey | key][ny][nx] = <span class="literal">true</span>;</span><br><span class="line">                    q.push(&#123;ny, nx, cntKey | key, cntCount + <span class="number">1</span>&#125;);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 문을 만났을 경우</span></span><br><span class="line">                <span class="keyword">if</span> (<span class="string">&#x27;A&#x27;</span> &lt;= Map[ny][nx] &amp;&amp; Map[ny][nx] &lt;= <span class="string">&#x27;F&#x27;</span>) &#123;</span><br><span class="line">                    <span class="keyword">int</span> door = (<span class="number">1</span> &lt;&lt; (Map[ny][nx] - <span class="string">&#x27;A&#x27;</span>));</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> (door &amp; cntKey) &#123;</span><br><span class="line">                        check[cntKey][ny][nx] = <span class="literal">true</span>;</span><br><span class="line">                        q.push(&#123;ny, nx, cntKey, cntCount + <span class="number">1</span>&#125;);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 출구를 만났을 경우</span></span><br><span class="line">                <span class="keyword">if</span> (Map[ny][nx] == <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">                    q.push(&#123;ny, nx, cntKey, cntCount + <span class="number">1</span>&#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= M; j++) &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; Map[i][j];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (Map[i][j] == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                startY = i;</span><br><span class="line">                startX = j;</span><br><span class="line">                Map[i][j] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    init();</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; bfs() &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      
      
      <comments>https://ckck803.github.io/2021/03/20/algorithm/baekjoon/BFS/1194-%EB%8B%AC%EC%9D%B4%EC%B0%A8%EC%98%A4%EB%A5%B8%EB%8B%A4-%EA%B0%80%EC%9E%90/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Security - WebSecurityConfigurerAdatper</title>
      <link>https://ckck803.github.io/2021/03/19/springboot/security/study/web-security-configurer/</link>
      <guid>https://ckck803.github.io/2021/03/19/springboot/security/study/web-security-configurer/</guid>
      <pubDate>Fri, 19 Mar 2021 13:25:35 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/spring-boot-logo.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;Spring-Security-WebSecurityConfigurerAdatper&quot;&gt;&lt;a href=&quot;#Spring-Security-W</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/spring-boot-logo.png"></p><h1 id="Spring-Security-WebSecurityConfigurerAdatper"><a href="#Spring-Security-WebSecurityConfigurerAdatper" class="headerlink" title="Spring Security - WebSecurityConfigurerAdatper"></a>Spring Security - WebSecurityConfigurerAdatper</h1><p>스프링 Scurity에 대한 설정은 <strong>WebSecurityConfigurer</strong> 인터페이스 구현하거나 <strong>WebSecurityConfigurerAdapter</strong> 클래스를 상속해 설정을 할 수 있다.</p><h2 id="인증-방식-설정"><a href="#인증-방식-설정" class="headerlink" title="인증 방식 설정"></a>인증 방식 설정</h2><ul><li><strong>configure(AuthenticationManagerBuilder auth)</strong><ul><li><strong>인증 방식</strong>과 관련된 설정을 하기 위한 메소드</li><li>AuthenticationManagerBuilder는 <strong>인증객체</strong>(AuthenticationManager)를 생성하기 위한 클래스이다.</li><li>In Memory authentication나 UserDetailsService를 사용하는 <strong>다양한 인증 방식</strong>을 손 쉽게 구축할 수 있도록 지원한다.</li></ul></li></ul><p><em>configure(AuthenticationManagerBuilder auth)</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> CustomUserDetailsService customUserDetailsService;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    auth.userDetailsService(customUserDetailsService);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="전역적인-Security-설정"><a href="#전역적인-Security-설정" class="headerlink" title="전역적인 Security 설정"></a>전역적인 Security 설정</h2><ul><li><strong>configure(WebSecurity web)</strong><ul><li><strong>전역적인 Security 설정</strong>을 하기 위해 사용하는 메소드</li><li>정적 파일에 대한 보안 예외처리와 같이 Security Filter Chain에 대한 예외처리를 할 때 사용한다.</li><li>WebSecurity 클래스는 Spring Security에서 <strong>FilterChainProxy</strong>를 생성한다.</li></ul></li></ul><p><em>configure(WebSecurity web)</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(WebSecurity web)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    web</span><br><span class="line">            .ignoring()</span><br><span class="line">            .antMatchers(<span class="string">&quot;/css/**&quot;</span>, <span class="string">&quot;/js/**&quot;</span>)</span><br><span class="line">            .antMatchers(<span class="string">&quot;/favicon.ico&quot;</span>, <span class="string">&quot;/resources/**&quot;</span>, <span class="string">&quot;/error&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Resource별로-Security를-설정"><a href="#Resource별로-Security를-설정" class="headerlink" title="Resource별로 Security를 설정"></a>Resource별로 Security를 설정</h2><ul><li><strong>configure(HttpSecurity http)</strong><ul><li><strong>Resource</strong>별로 Security를 설정하기 위한 메소드이다.</li><li>HttpSecurity 클래스를 통해 <strong>인증</strong>, <strong>인가</strong>와 관련된 <strong>Web 기반의 보안 설정</strong>을 할 수 있다.</li><li>인증 : Form Login, Http Basic, OAuth2 Login 등</li><li>인가 : Matchers, Role, Authenticate, permit 등</li></ul></li></ul><p><em>configure(HttpSecurity http)</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">// 인가</span></span><br><span class="line">    http</span><br><span class="line">            .authorizeRequests() <span class="comment">// 인가에 대한 설정을 한다.</span></span><br><span class="line">            .antMatchers(<span class="string">&quot;/loginPage&quot;</span>).permitAll() <span class="comment">// /loginPage 접근시에는 인증이 필요하지 않다.</span></span><br><span class="line">            .anyRequest().authenticated(); <span class="comment">// 다른 모든 리소스에 접그하기 위해서는 인증이 필요하다</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 인증</span></span><br><span class="line">    http</span><br><span class="line">            .formLogin() <span class="comment">// Form Login 방식의 인증을 사용한다.</span></span><br><span class="line">            .loginPage(<span class="string">&quot;/loginPage&quot;</span>) <span class="comment">// 로그인 페이지를 설정한다.</span></span><br><span class="line">            .defaultSuccessUrl(<span class="string">&quot;/&quot;</span>) <span class="comment">// Login을 성공한 후 / 페이지로 이동하게 된다.</span></span><br><span class="line">            .failureUrl(<span class="string">&quot;/loginPage&quot;</span>) <span class="comment">// 로그인 실패시 /loginPage로 이동하게 된다.</span></span><br><span class="line">            .usernameParameter(<span class="string">&quot;username&quot;</span>) <span class="comment">// 요청 파라미터에서 username을 usernameParameter로 사용한다.</span></span><br><span class="line">            .passwordParameter(<span class="string">&quot;password&quot;</span>) <span class="comment">// 요청 파라미터에서 password를 passwordParameter로 사용한다.</span></span><br><span class="line">            .loginProcessingUrl(<span class="string">&quot;/login_proc&quot;</span>) <span class="comment">// 로그인을 진행하기 위한 URL</span></span><br><span class="line">            <span class="comment">// 로그인이 성공했을 때 처리하기 위한 Handler</span></span><br><span class="line">            .successHandler(<span class="keyword">new</span> AuthenticationSuccessHandler() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAuthenticationSuccess</span><span class="params">(HttpServletRequest httpServletRequest</span></span></span><br><span class="line"><span class="function"><span class="params">                        , HttpServletResponse httpServletResponse</span></span></span><br><span class="line"><span class="function"><span class="params">                        , Authentication authentication)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">                    httpServletResponse.sendRedirect(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// 로그인이 실패했을 때 처리하기 위한 Handler</span></span><br><span class="line">            .failureHandler(<span class="keyword">new</span> AuthenticationFailureHandler() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onAuthenticationFailure</span><span class="params">(HttpServletRequest httpServletRequest</span></span></span><br><span class="line"><span class="function"><span class="params">                        , HttpServletResponse httpServletResponse</span></span></span><br><span class="line"><span class="function"><span class="params">                        , AuthenticationException e)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">                    httpServletResponse.sendRedirect(<span class="string">&quot;/loginPage&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="패스워드-암호화"><a href="#패스워드-암호화" class="headerlink" title="패스워드 암호화"></a>패스워드 암호화</h2><p>Spring Boot에서는 <strong>사용자의 Password는 암호화된 상태로 저장</strong>이 돼야 한다. 암호화가 안된 상태로 저장하게 되면 사용자 인증시에 오류가 발생하게 된다. 그래서 Password를 암호화된 상태로 저장할 수 있도록 <strong>PasswordEncoder</strong> 인터페이스를 제공한다.</p><h4 id="PasswordEncoder"><a href="#PasswordEncoder" class="headerlink" title="PasswordEncoder"></a>PasswordEncoder</h4><ul><li>PasswordEncoder 인터페이스는 보통 <strong>패스워드를 단방향으로 변환</strong>한다. 즉 다시 원래대로 되돌릴 수 없다는 의미이다.</li><li>그래서 Hash 알고리즘을 사용한다.<ul><li>BcryptPasswordEncoder</li><li>Argon2PasswordEncoder</li><li>Pbkdf2PasswordEncoder</li><li>SCryptPasswordEncoder</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PasswordEncoder <span class="title">passwordEncoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/">Spring Security</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/Spring-Security/">Spring Security</category>
      
      
      <comments>https://ckck803.github.io/2021/03/19/springboot/security/study/web-security-configurer/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>백준 1406 - 후위표기식</title>
      <link>https://ckck803.github.io/2021/03/15/algorithm/baekjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/1918-%ED%9B%84%EC%9C%84%ED%91%9C%EA%B8%B0%EC%8B%9D/</link>
      <guid>https://ckck803.github.io/2021/03/15/algorithm/baekjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/1918-%ED%9B%84%EC%9C%84%ED%91%9C%EA%B8%B0%EC%8B%9D/</guid>
      <pubDate>Mon, 15 Mar 2021 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/baekjoon/baekjoon.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.acmicpc.net/problem/1918&quot;&gt;https://www.acmicpc.net/problem/1918&lt;/a&gt;&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/baekjoon/baekjoon.png"></p><p><a href="https://www.acmicpc.net/problem/1918">https://www.acmicpc.net/problem/1918</a></p><h2 id="문제-해설"><a href="#문제-해설" class="headerlink" title="문제 해설"></a>문제 해설</h2><p>문제를 해결할 때 후위 표기식에 대한 명확한 이해와 연산자 우선순위에 대해 고려 해야 한다.</p><p>연산자를 별도의 stack에 쌓아가면서 후위 표기식을 만든다. stack에 연산자를 넣기 전에 연산자 비교를 통해 stack에 넣을 려는 연산자 우선순위 보다 stack에 있는 연산자의 우선순위가 작을 때까지 계속해서 stack에서 연산자를 꺼내 후위 표기식에 추가해준다.</p><h4 id="연산자-우선순위"><a href="#연산자-우선순위" class="headerlink" title="연산자 우선순위"></a>연산자 우선순위</h4><ol><li><code>(</code>가 제일 높은 우선순위다.</li><li><code>*</code> 와 <code>/</code>가 그 다음 우선순위</li><li><code>+</code> 와 <code>-</code>가 다음 우선순위를 갖고 있다.</li><li><code>)</code>가 제일 낮은 우선순위다. <code>(</code>를 만날때까지 모든 연산자를 stack에서 꺼낸다.</li></ol><h2 id="소스-코드"><a href="#소스-코드" class="headerlink" title="소스 코드"></a>소스 코드</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> str;</span><br><span class="line"><span class="built_in">string</span> result;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; operation;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> cntChar = str[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (cntChar == <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">            operation.push(cntChar);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cntChar == <span class="string">&#x27;*&#x27;</span> || cntChar == <span class="string">&#x27;/&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!operation.empty() &amp;&amp; (operation.top() == <span class="string">&#x27;*&#x27;</span> || operation.top() == <span class="string">&#x27;/&#x27;</span>)) &#123;</span><br><span class="line">                result += operation.top();</span><br><span class="line">                operation.pop();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            operation.push(cntChar);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cntChar == <span class="string">&#x27;+&#x27;</span> || cntChar == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!operation.empty() &amp;&amp; (operation.top() != <span class="string">&#x27;(&#x27;</span>)) &#123;</span><br><span class="line">                result += operation.top();</span><br><span class="line">                operation.pop();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            operation.push(cntChar);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cntChar == <span class="string">&#x27;)&#x27;</span>) &#123;</span><br><span class="line">            <span class="keyword">while</span> (!operation.empty() &amp;&amp; operation.top() != <span class="string">&#x27;(&#x27;</span>) &#123;</span><br><span class="line">                result += operation.top();</span><br><span class="line">                operation.pop();</span><br><span class="line">            &#125;</span><br><span class="line">            operation.pop();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            result += cntChar;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!operation.empty()) &#123;</span><br><span class="line">        result += operation.top();</span><br><span class="line">        operation.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; result &lt;&lt; <span class="string">&#x27;\n&#x27;</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Programming/">Programming</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Beakjoon/">Beakjoon</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/">스택</category>
      
      
      <category domain="https://ckck803.github.io/tags/beakjoon/">beakjoon</category>
      
      <category domain="https://ckck803.github.io/tags/%ED%8B%80%EB%A0%B8%EC%8A%B5%EB%8B%88%EB%8B%A4-2/">틀렸습니다 2</category>
      
      <category domain="https://ckck803.github.io/tags/Java/">Java</category>
      
      
      <comments>https://ckck803.github.io/2021/03/15/algorithm/baekjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/1918-%ED%9B%84%EC%9C%84%ED%91%9C%EA%B8%B0%EC%8B%9D/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>프로그래머스 - 수식 최대화</title>
      <link>https://ckck803.github.io/2021/03/15/algorithm/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/67257-%EC%88%98%EC%8B%9D%EC%B5%9C%EB%8C%80%ED%99%94/</link>
      <guid>https://ckck803.github.io/2021/03/15/algorithm/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/67257-%EC%88%98%EC%8B%9D%EC%B5%9C%EB%8C%80%ED%99%94/</guid>
      <pubDate>Mon, 15 Mar 2021 11:10:40 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/algorithm/programmers/programmers.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://programmers.co.kr/learn/courses/30/lessons/67257&quot;&gt;https</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/algorithm/programmers/programmers.png"></p><p><a href="https://programmers.co.kr/learn/courses/30/lessons/67257">https://programmers.co.kr/learn/courses/30/lessons/67257</a></p><h2 id="문제-해설"><a href="#문제-해설" class="headerlink" title="문제 해설"></a>문제 해설</h2><p><strong>경우의 수</strong> 문제이다. 모든 경우의 연산자 우선순위를 만들어 해당 연산자 우선순위를 이용해 연산을 진행하면 된다.</p><p>중위표기식으로 나타난 식을 후위 표기식으로 바꿔서 문제를 해결 했다.</p><h3 id="경우의-수-만들기"><a href="#경우의-수-만들기" class="headerlink" title="경우의 수 만들기"></a>경우의 수 만들기</h3><p>만들 수 있는 모든 연산자 우선순위를 만들어줘야 한다. DFS를 이용해 모든 경우의 수를 만들어 줬다.</p><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">makeAllCase</span><span class="params">(<span class="keyword">int</span> depth)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (depth == <span class="number">3</span>) &#123;</span><br><span class="line">        allCase.push_back(cntCase);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> cntOper = operation[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (check[i] == <span class="literal">false</span>) &#123;</span><br><span class="line">            check[i] = <span class="literal">true</span>;</span><br><span class="line">            cntCase[depth] = cntOper;</span><br><span class="line">            makeAllCase(depth + <span class="number">1</span>);</span><br><span class="line">            check[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="연산자-우선순위를-가반으로-한-연산"><a href="#연산자-우선순위를-가반으로-한-연산" class="headerlink" title="연산자 우선순위를 가반으로 한 연산"></a>연산자 우선순위를 가반으로 한 연산</h3><ol><li><p><strong>가장 높은 우선순위의 연산자가 들어왔을 때</strong></p><ul><li>Stack을 확인해 같은 먼저 들어온 같은 우선순위의 연산자가 있는지 확인한다.</li><li>같은 우선순위의 연산자가 Stack에 있는 경우 <code>pop</code> 해서 해당 연산을 진행한 후 지금 들어온 연산자를 <code>push</code>한다.</li><li>없는 경우에는 Stack에 <code>push</code> 한다.</li></ul></li><li><p><strong>두번째 우선 순위가 연산자가 들어온 경우</strong></p><ul><li>Stack을 확인해 우선순위가 같거나 큰 연산자가 없어질 때까지 연산을 진행한 후 <code>pop</code> 한다.</li><li>Stack에 우선순위가 같거나 큰 연산자가 없을 경우에는 Stack에 <code>push</code> 한다.</li></ul></li><li><p><strong>세번째 우선 순위의 연산자가 들어온 경우</strong></p><ul><li>Stack을 확인해 우선순위가 같거나 큰 연산자가 없어질 때까지 연산을 진행한 후 <code>pop</code> 한다.</li><li>Stack에 우선순위가 같거나 큰 연산자가 없을 경우에는 Stack에 <code>push</code> 한다.</li></ul></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 첫번째 우선순위의 연산자가 들어온 경우</span></span><br><span class="line"><span class="keyword">if</span> (cntChar == cnt_priority[<span class="number">0</span>]) &#123;</span><br><span class="line">    opernand.push(stol(value));</span><br><span class="line">    value = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!operation.empty() &amp;&amp; operation.top() == cnt_priority[<span class="number">0</span>]) &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> value1 = opernand.top();</span><br><span class="line">        opernand.pop();</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> value2 = opernand.top();</span><br><span class="line">        opernand.pop();</span><br><span class="line">        <span class="keyword">char</span> oper = operation.top();</span><br><span class="line">        operation.pop();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> result = calValue1Value2(value1, value2, oper);</span><br><span class="line">        opernand.push(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    operation.push(cntChar);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 두번째 우선순위의 연산자가 들어온 경우</span></span><br><span class="line"><span class="keyword">if</span> (cntChar == cnt_priority[<span class="number">1</span>]) &#123;</span><br><span class="line">    opernand.push(stol(value));</span><br><span class="line">    value = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!operation.empty() &amp;&amp; operation.top() != cnt_priority[<span class="number">2</span>]) &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> value1 = opernand.top();</span><br><span class="line">        opernand.pop();</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> value2 = opernand.top();</span><br><span class="line">        opernand.pop();</span><br><span class="line">        <span class="keyword">char</span> oper = operation.top();</span><br><span class="line">        operation.pop();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> result = calValue1Value2(value1, value2, oper);</span><br><span class="line">        opernand.push(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    operation.push(cntChar);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 세번째 우선순위의 연산자가 들어온 경우</span></span><br><span class="line"><span class="keyword">if</span> (cntChar == cnt_priority[<span class="number">2</span>]) &#123;</span><br><span class="line">    opernand.push(stol(value));</span><br><span class="line">    value = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (!operation.empty()) &#123;</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> value1 = opernand.top();</span><br><span class="line">        opernand.pop();</span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> value2 = opernand.top();</span><br><span class="line">        opernand.pop();</span><br><span class="line">        <span class="keyword">char</span> oper = operation.top();</span><br><span class="line">        operation.pop();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">long</span> <span class="keyword">long</span> result = calValue1Value2(value1, value2, oper);</span><br><span class="line">        opernand.push(result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    operation.push(cntChar);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Stack을-이용한-소스-코드"><a href="#Stack을-이용한-소스-코드" class="headerlink" title="Stack을 이용한 소스 코드"></a>Stack을 이용한 소스 코드</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> operation[<span class="number">3</span>] = &#123;<span class="string">&#x27;*&#x27;</span>, <span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27;-&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">bool</span> check[<span class="number">3</span>];</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; <span class="title">cntCase</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; allCase;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">makeAllCase</span><span class="params">(<span class="keyword">int</span> depth)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (depth == <span class="number">3</span>) &#123;</span><br><span class="line">        allCase.push_back(cntCase);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> cntOper = operation[i];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (check[i] == <span class="literal">false</span>) &#123;</span><br><span class="line">            check[i] = <span class="literal">true</span>;</span><br><span class="line">            cntCase[depth] = cntOper;</span><br><span class="line">            makeAllCase(depth + <span class="number">1</span>);</span><br><span class="line">            check[i] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">calValue1Value2</span><span class="params">(<span class="keyword">long</span> <span class="keyword">long</span> value1, <span class="keyword">long</span> <span class="keyword">long</span> value2, <span class="keyword">char</span> oper)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> result = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (oper == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">        result = value2 * value1;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (oper == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">        result = value2 + value1;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        result = value2 - value1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solveExpression</span><span class="params">(<span class="built_in">string</span> expression)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> maxValue = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; cnt_priority : allCase) &#123;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; opernand;</span><br><span class="line">        <span class="built_in">stack</span>&lt;<span class="keyword">char</span>&gt; operation;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">string</span> value = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; expression.size(); i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> cntChar = expression[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&#x27;0&#x27;</span> &lt;= cntChar &amp;&amp; cntChar &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">                value += cntChar;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cntChar == cnt_priority[<span class="number">0</span>]) &#123;</span><br><span class="line">                opernand.push(stol(value));</span><br><span class="line">                value = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (!operation.empty() &amp;&amp; operation.top() == cnt_priority[<span class="number">0</span>]) &#123;</span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> value1 = opernand.top();</span><br><span class="line">                    opernand.pop();</span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> value2 = opernand.top();</span><br><span class="line">                    opernand.pop();</span><br><span class="line">                    <span class="keyword">char</span> oper = operation.top();</span><br><span class="line">                    operation.pop();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> result = calValue1Value2(value1, value2, oper);</span><br><span class="line">                    opernand.push(result);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                operation.push(cntChar);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cntChar == cnt_priority[<span class="number">1</span>]) &#123;</span><br><span class="line">                opernand.push(stol(value));</span><br><span class="line">                value = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (!operation.empty() &amp;&amp; operation.top() != cnt_priority[<span class="number">2</span>]) &#123;</span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> value1 = opernand.top();</span><br><span class="line">                    opernand.pop();</span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> value2 = opernand.top();</span><br><span class="line">                    opernand.pop();</span><br><span class="line">                    <span class="keyword">char</span> oper = operation.top();</span><br><span class="line">                    operation.pop();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> result = calValue1Value2(value1, value2, oper);</span><br><span class="line">                    opernand.push(result);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                operation.push(cntChar);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cntChar == cnt_priority[<span class="number">2</span>]) &#123;</span><br><span class="line">                opernand.push(stol(value));</span><br><span class="line">                value = <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">while</span> (!operation.empty()) &#123;</span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> value1 = opernand.top();</span><br><span class="line">                    opernand.pop();</span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> value2 = opernand.top();</span><br><span class="line">                    opernand.pop();</span><br><span class="line">                    <span class="keyword">char</span> oper = operation.top();</span><br><span class="line">                    operation.pop();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">long</span> <span class="keyword">long</span> result = calValue1Value2(value1, value2, oper);</span><br><span class="line">                    opernand.push(result);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                operation.push(cntChar);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        opernand.push(stol(value));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!operation.empty()) &#123;</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> value1 = opernand.top();</span><br><span class="line">            opernand.pop();</span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> value2 = opernand.top();</span><br><span class="line">            opernand.pop();</span><br><span class="line">            <span class="keyword">char</span> oper = operation.top();</span><br><span class="line">            operation.pop();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">long</span> <span class="keyword">long</span> result = calValue1Value2(value1, value2, oper);</span><br><span class="line">            opernand.push(<span class="built_in">abs</span>(result));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (maxValue &lt; opernand.top()) &#123;</span><br><span class="line">            maxValue = opernand.top();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxValue;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solution</span><span class="params">(<span class="built_in">string</span> expression)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> answer = <span class="number">0</span>;</span><br><span class="line">    makeAllCase(<span class="number">0</span>);</span><br><span class="line">    answer = solveExpression(expression);</span><br><span class="line">    <span class="keyword">return</span> answer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="dq를-이용한-문제-해결"><a href="#dq를-이용한-문제-해결" class="headerlink" title="dq를 이용한 문제 해결"></a>dq를 이용한 문제 해결</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> operation[<span class="number">3</span>] = &#123;<span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;*&#x27;</span>&#125;;</span><br><span class="line"><span class="keyword">bool</span> check[<span class="number">3</span>];</span><br><span class="line"><span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; <span class="title">op</span><span class="params">(<span class="number">3</span>)</span></span>;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt;&gt; operations;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; dq_opernand;</span><br><span class="line"><span class="built_in">deque</span>&lt;<span class="keyword">char</span>&gt; dq_operator;</span><br><span class="line">ll max_value = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">nPr</span><span class="params">(<span class="keyword">int</span> depth)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="number">3</span> == depth) &#123;</span><br><span class="line">        <span class="function"><span class="built_in">vector</span>&lt;<span class="keyword">char</span>&gt; <span class="title">v</span><span class="params">(op)</span></span>;</span><br><span class="line">        operations.push_back(op);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (check[i] == <span class="literal">true</span>)</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        op[depth] = operation[i];</span><br><span class="line"></span><br><span class="line">        check[i] = <span class="literal">true</span>;</span><br><span class="line">        nPr(depth + <span class="number">1</span>);</span><br><span class="line">        check[i] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">divideOperaion</span><span class="params">(<span class="built_in">string</span> expression)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; expression.size(); i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&#x27;0&#x27;</span> &lt;= expression[i] &amp;&amp; expression[i] &lt;= <span class="string">&#x27;9&#x27;</span>) &#123;</span><br><span class="line">            s += expression[i];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            dq_opernand.push_back(stol(s));</span><br><span class="line">            dq_operator.push_back(expression[i]);</span><br><span class="line">            s = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dq_opernand.push_back(stol(s));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">operValue</span><span class="params">(ll a, ll b, <span class="keyword">char</span> op)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (op == <span class="string">&#x27;+&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (op == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a * b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">operate</span><span class="params">(<span class="built_in">string</span> expression)</span> </span>&#123;</span><br><span class="line">    <span class="built_in">deque</span>&lt;ll&gt; temp_opernand;</span><br><span class="line">    <span class="built_in">deque</span>&lt;<span class="keyword">char</span>&gt; temp_operator;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> o : operations) &#123;</span><br><span class="line">        <span class="function"><span class="built_in">deque</span>&lt;ll&gt; <span class="title">copy_opernand</span><span class="params">(dq_opernand)</span></span>;</span><br><span class="line">        <span class="function"><span class="built_in">deque</span>&lt;<span class="keyword">char</span>&gt; <span class="title">copy_operator</span><span class="params">(dq_operator)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">char</span> cnt_operation = o[i];</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!copy_operator.empty()) &#123;</span><br><span class="line">                <span class="keyword">if</span> (copy_operator.front() == cnt_operation) &#123;</span><br><span class="line">                    ll value1 = copy_opernand.front();</span><br><span class="line">                    copy_opernand.pop_front();</span><br><span class="line"></span><br><span class="line">                    ll value2 = copy_opernand.front();</span><br><span class="line">                    copy_opernand.pop_front();</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">char</span> oper = copy_operator.front();</span><br><span class="line">                    copy_operator.pop_front();</span><br><span class="line"></span><br><span class="line">                    ll result = operValue(value1, value2, oper);</span><br><span class="line"></span><br><span class="line">                    copy_opernand.push_front(result);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    temp_opernand.push_back(copy_opernand.front());</span><br><span class="line">                    temp_operator.push_back(copy_operator.front());</span><br><span class="line"></span><br><span class="line">                    copy_opernand.pop_front();</span><br><span class="line">                    copy_operator.pop_front();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!copy_opernand.empty()) &#123;</span><br><span class="line">                temp_opernand.push_back(copy_opernand.front());</span><br><span class="line">                copy_opernand.pop_front();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!temp_operator.empty()) &#123;</span><br><span class="line">                copy_operator.push_back(temp_operator.front());</span><br><span class="line">                temp_operator.pop_front();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> (!temp_opernand.empty()) &#123;</span><br><span class="line">                copy_opernand.push_back(temp_opernand.front());</span><br><span class="line">                temp_opernand.pop_front();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        max_value = max(max_value, <span class="built_in">abs</span>(copy_opernand.front()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">solution</span><span class="params">(<span class="built_in">string</span> expression)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> <span class="keyword">long</span> answer;</span><br><span class="line">    nPr(<span class="number">0</span>);</span><br><span class="line">    divideOperaion(expression);</span><br><span class="line">    operate(expression);</span><br><span class="line">    answer = max_value;</span><br><span class="line">    <span class="keyword">return</span> answer;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Programming/">Programming</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Programmers/">Programmers</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Programmers/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Programmers/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/">스택</category>
      
      
      <category domain="https://ckck803.github.io/tags/%ED%8B%80%EB%A0%B8%EC%8A%B5%EB%8B%88%EB%8B%A4-2/">틀렸습니다 2</category>
      
      <category domain="https://ckck803.github.io/tags/Java/">Java</category>
      
      <category domain="https://ckck803.github.io/tags/Programmers/">Programmers</category>
      
      
      <comments>https://ckck803.github.io/2021/03/15/algorithm/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%98%EB%A8%B8%EC%8A%A4/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/67257-%EC%88%98%EC%8B%9D%EC%B5%9C%EB%8C%80%ED%99%94/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>백준 1406 - 에디터</title>
      <link>https://ckck803.github.io/2021/03/15/algorithm/baekjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/1406%20-%20%EC%97%90%EB%94%94%ED%84%B0/</link>
      <guid>https://ckck803.github.io/2021/03/15/algorithm/baekjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/1406%20-%20%EC%97%90%EB%94%94%ED%84%B0/</guid>
      <pubDate>Mon, 15 Mar 2021 06:23:54 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/baekjoon/baekjoon.png&quot;&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://www.acmicpc.net/problem/1406&quot;&gt;https://www.acmicpc.net/problem/1406&lt;/a&gt;&lt;</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/baekjoon/baekjoon.png"></p><p><a href="https://www.acmicpc.net/problem/1406">https://www.acmicpc.net/problem/1406</a></p><h2 id="문제-해설"><a href="#문제-해설" class="headerlink" title="문제 해설"></a>문제 해설</h2><h3 id="Stack을-이용한-문제-풀이"><a href="#Stack을-이용한-문제-풀이" class="headerlink" title="Stack을 이용한 문제 풀이"></a>Stack을 이용한 문제 풀이</h3><p>기본적인 자료구조를 사용해 문제를 해결하는 문제이다. 두개의 스택을 이용해서 커서를 기점으로 커서 왼쪽에 있는 것들은 <strong>left</strong> 스택에 커서 오른쪽에 있는 단어들은 <strong>right</strong> 스택에 넣어서 관리를 한다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.util.Stack;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        Scanner sc = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = sc.nextLine();</span><br><span class="line"></span><br><span class="line">        Stack&lt;Character&gt; left = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line">        Stack&lt;Character&gt; right = <span class="keyword">new</span> Stack&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length(); i++) &#123;</span><br><span class="line">            left.push(str.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> numOfCmd = sc.nextInt();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfCmd; i++) &#123;</span><br><span class="line">            String cmd = sc.next();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (cmd.equals(<span class="string">&quot;L&quot;</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!left.isEmpty()) &#123;</span><br><span class="line">                    right.push(left.peek());</span><br><span class="line">                    left.pop();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd.equals(<span class="string">&quot;D&quot;</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!right.isEmpty()) &#123;</span><br><span class="line">                    left.push(right.peek());</span><br><span class="line">                    right.pop();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd.equals(<span class="string">&quot;B&quot;</span>)) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!left.isEmpty()) &#123;</span><br><span class="line">                    left.pop();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmd.equals(<span class="string">&quot;P&quot;</span>)) &#123;</span><br><span class="line">                <span class="keyword">char</span> value = sc.next().charAt(<span class="number">0</span>);</span><br><span class="line">                left.push(value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (!left.isEmpty()) &#123;</span><br><span class="line">            right.push(left.peek());</span><br><span class="line">            left.pop();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        StringBuilder stringBuilder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">        <span class="keyword">while</span> (!right.isEmpty()) &#123;</span><br><span class="line">            stringBuilder.append(right.peek());</span><br><span class="line">            right.pop();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(stringBuilder.toString());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="LinkedList와-ListIterator를-이용한-문제-풀이"><a href="#LinkedList와-ListIterator를-이용한-문제-풀이" class="headerlink" title="LinkedList와 ListIterator를 이용한 문제 풀이"></a>LinkedList와 ListIterator를 이용한 문제 풀이</h3><p>해당 문제는 <strong>LinkedList</strong>를 이용해서도 문제를 해결할 수 있다. LinkedList의 원소에 List로 접근을 하게 되면 <strong>O(n)</strong> 의 시간이 걸려 시간 초과가 뜨게 된다. 때문에 다행이 문제는 Cursor위치를 한칸씩 밖에 못 움직이므로 <strong>ListIterator</strong> 라는 객체를 이용해 LinkedList를 관리하도록 한다.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(System.in));</span><br><span class="line">        BufferedWriter wr = <span class="keyword">new</span> BufferedWriter(<span class="keyword">new</span> OutputStreamWriter(System.out));</span><br><span class="line">        String[] str = br.readLine().split(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;Character&gt; charList = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        ListIterator&lt;Character&gt; iter = charList.listIterator();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; str.length; i++) &#123;</span><br><span class="line">            iter.add(str[i].charAt(<span class="number">0</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">int</span> index = charList.size();</span><br><span class="line">        <span class="keyword">int</span> numOfCmd = Integer.parseInt(br.readLine());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numOfCmd; i++) &#123;</span><br><span class="line">            <span class="keyword">char</span>[] inputs = br.readLine().toCharArray();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (inputs[<span class="number">0</span>] == <span class="string">&#x27;L&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (iter.hasPrevious()) &#123;</span><br><span class="line">                    iter.previous();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputs[<span class="number">0</span>] == <span class="string">&#x27;D&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (iter.hasNext()) &#123;</span><br><span class="line">                    iter.next();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputs[<span class="number">0</span>] == <span class="string">&#x27;B&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (iter.hasPrevious()) &#123;</span><br><span class="line">                    iter.previous();</span><br><span class="line">                    iter.remove();</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (inputs[<span class="number">0</span>] == <span class="string">&#x27;P&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">char</span> value = inputs[<span class="number">2</span>];</span><br><span class="line">                iter.add(value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : charList) &#123;</span><br><span class="line">            wr.write(c);</span><br><span class="line">        &#125;</span><br><span class="line">        wr.flush();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Programming/">Programming</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Beakjoon/">Beakjoon</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</category>
      
      <category domain="https://ckck803.github.io/categories/Programming/Beakjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/">스택</category>
      
      
      <category domain="https://ckck803.github.io/tags/beakjoon/">beakjoon</category>
      
      <category domain="https://ckck803.github.io/tags/%ED%8B%80%EB%A0%B8%EC%8A%B5%EB%8B%88%EB%8B%A4-2/">틀렸습니다 2</category>
      
      <category domain="https://ckck803.github.io/tags/Java/">Java</category>
      
      
      <comments>https://ckck803.github.io/2021/03/15/algorithm/baekjoon/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/%EC%8A%A4%ED%83%9D/1406%20-%20%EC%97%90%EB%94%94%ED%84%B0/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring-JWT(JSON Web Token) - 4. JWT 다루기</title>
      <link>https://ckck803.github.io/2021/03/15/springboot/security/JWT/spring-jwt-4/</link>
      <guid>https://ckck803.github.io/2021/03/15/springboot/security/JWT/spring-jwt-4/</guid>
      <pubDate>Sun, 14 Mar 2021 17:20:47 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/security/JWT/JWT3.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;4-JWT-다루기&quot;&gt;&lt;a href=&quot;#4-JWT-다루기&quot; class=&quot;headerlink&quot; title=&quot;4. JWT 다루기&quot;&gt;&lt;/</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/security/JWT/JWT3.png"></p><h1 id="4-JWT-다루기"><a href="#4-JWT-다루기" class="headerlink" title="4. JWT 다루기"></a>4. JWT 다루기</h1><h2 id="JWT를-다루기-위한-Util-Class만들기"><a href="#JWT를-다루기-위한-Util-Class만들기" class="headerlink" title="JWT를 다루기 위한 Util Class만들기"></a>JWT를 다루기 위한 Util Class만들기</h2><p>JwtUtil 객체는 <strong>Jwts.builder</strong>를 이용해 JWT를 생성하고 <strong>Jwts.parser</strong>를 이용해 Token을 JWT로 변환시켜 데이터를 가져오도록 한다.</p><h4 id="Jwts-builder-JwtBuilder"><a href="#Jwts-builder-JwtBuilder" class="headerlink" title="Jwts.builder(JwtBuilder)"></a>Jwts.builder(JwtBuilder)</h4><ul><li><strong>setHeader</strong><ul><li>JWT의 Header에 대한 설정을 위한 메소드</li></ul></li><li><strong>setXXX</strong><ul><li>setSubject, setExpiration, setIssuer, …</li><li>Registed Payload는 각각에 해당하는 set 메소드들이 제공된다.</li></ul></li><li><strong>setClaims</strong><ul><li>JWT의 Claim 데이터를 추가하기 위한 메소드</li></ul></li><li><strong>signWith</strong><ul><li>Header와 Payload를 갖고 screteKey로 서명한다.</li><li>암호화 알고리즘으로는 보통 <code>HMAC</code> or <code>RSA</code> 알고리즘을 사용한다.</li></ul></li></ul><h4 id="Jwts-parser-JwtParser"><a href="#Jwts-parser-JwtParser" class="headerlink" title="Jwts.parser(JwtParser)"></a>Jwts.parser(JwtParser)</h4><ul><li><strong>setSigningKey</strong><ul><li>데이터 위변조 확인을 위해 secretKey를 이용해 JWS에 대한 유효성 검증을 한다.</li><li>secretKey를 이용한 검증 실패시 해당 JWT는 사용하지 못한다.</li></ul></li><li><strong>parseClaimsJws</strong><ul><li>token을 JWS로 파싱해준다.</li></ul></li></ul><p><em>JwtUtil.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JwtUtil</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String secretKey = <span class="string">&quot;ThisIsA_SecretKeyForJwtExample&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">generateToken</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        String JSONWebToken = Jwts.builder()</span><br><span class="line">                .setHeader(createHeader())</span><br><span class="line">                .setClaims(createClaims(username))</span><br><span class="line">                .setExpiration(createExpireDateForOneYear())</span><br><span class="line">                .signWith(SignatureAlgorithm.HS256, secretKey)</span><br><span class="line">                .compact();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> JSONWebToken;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Map&lt;String, Object&gt; <span class="title">createHeader</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; header = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        header.put(<span class="string">&quot;typ&quot;</span>, <span class="string">&quot;JWT&quot;</span>);</span><br><span class="line">        header.put(<span class="string">&quot;alg&quot;</span>, <span class="string">&quot;HS256&quot;</span>);</span><br><span class="line">        header.put(<span class="string">&quot;regDate&quot;</span>, System.currentTimeMillis());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> header;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Map&lt;String, Object&gt; <span class="title">createClaims</span><span class="params">(String username)</span> </span>&#123;</span><br><span class="line">        Map&lt;String, Object&gt; claims = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        claims.put(<span class="string">&quot;username&quot;</span>, username);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Date <span class="title">createExpireDateForOneYear</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 토큰 만료시간은 30일으로 설정</span></span><br><span class="line">        Calendar calendar = Calendar.getInstance();</span><br><span class="line">        calendar.add(Calendar.DATE, <span class="number">30</span>);</span><br><span class="line">        <span class="keyword">return</span> calendar.getTime();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Claims <span class="title">getAllClaims</span><span class="params">(String token)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Jwts.parser()</span><br><span class="line">                .setSigningKey(secretKey)</span><br><span class="line">                .parseClaimsJws(token)</span><br><span class="line">                .getBody();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getUsername</span><span class="params">(String token)</span> </span>&#123;</span><br><span class="line">        Claims claims = getAllClaims(token);</span><br><span class="line">        String username = claims.get(<span class="string">&quot;username&quot;</span>, String.class);</span><br><span class="line">        <span class="keyword">return</span> username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Date <span class="title">getExpiration</span><span class="params">(String token)</span> </span>&#123;</span><br><span class="line">        Claims claims = getAllClaims(token);</span><br><span class="line">        <span class="keyword">return</span> claims.getExpiration();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Boolean <span class="title">validateToken</span><span class="params">(String token, UserDetails userDetails)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> String username = getUsername(token);</span><br><span class="line">        <span class="keyword">return</span> (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> Boolean <span class="title">isTokenExpired</span><span class="params">(String token)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> getExpiration(token).before(<span class="keyword">new</span> Date());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="JWT를-이용한-인증을-위해-새로운-Filter정의하기"><a href="#JWT를-이용한-인증을-위해-새로운-Filter정의하기" class="headerlink" title="JWT를 이용한 인증을 위해 새로운 Filter정의하기"></a>JWT를 이용한 인증을 위해 새로운 Filter정의하기</h2><p><strong>OncePerRequestFilter</strong>를 상속 받아 JWT로 인증을 진행하는 JwtAuthenticationFilter를 생성한다.<br>JwtAuthenticationFilter에서는 요청이 들어왔을 때 Token이 있는지 확인하고 해당 Token을 이용해 인증을 진행한 후 AuthenticationToken을 생성해 SecurityContextHolder에 저장한다.</p><ul><li><code>UsernamePasswordAuthenticationToken</code><ul><li>사용자의 Username과 Password를 이용하여 <strong>AuthenticationToken</strong>을 생성한다.</li></ul></li></ul><p><em>JwtAuthenticationFilter.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JwtAuthenticationFilter</span> <span class="keyword">extends</span> <span class="title">OncePerRequestFilter</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Logger logger = LoggerFactory.getLogger(JwtAuthenticationFilter.class);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> JwtUtil jwtUtil;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> CustomUserDetailsService service;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doFilterInternal</span><span class="params">(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">// Http 요청이 들어왔을 때 header를 검사해 Authorization 값을 가져온다.</span></span><br><span class="line">        String authorizationHeader = request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String token = <span class="keyword">null</span>;</span><br><span class="line">        String username = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 인증 토큰을 받았을 경우</span></span><br><span class="line">        <span class="comment">// Bearer 토큰인지 확인한다.</span></span><br><span class="line">        <span class="keyword">if</span> (authorizationHeader != <span class="keyword">null</span> &amp;&amp; authorizationHeader.startsWith(<span class="string">&quot;Bearer &quot;</span>)) &#123;</span><br><span class="line">            token = authorizationHeader.substring(<span class="number">7</span>);</span><br><span class="line">            username = jwtUtil.extractUsername(token);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Bearer 토큰으로부터 추출한 username을 이용해</span></span><br><span class="line">        <span class="comment">// 해당 유저가 등록된 유저인지 검증한다.</span></span><br><span class="line">        <span class="keyword">if</span> (username != <span class="keyword">null</span> &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == <span class="keyword">null</span>) &#123;</span><br><span class="line"></span><br><span class="line">            UserDetails userDetails = service.loadUserByUsername(username);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (jwtUtil.validateToken(token, userDetails)) &#123;</span><br><span class="line"></span><br><span class="line">                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =</span><br><span class="line">                        <span class="keyword">new</span> UsernamePasswordAuthenticationToken(userDetails, <span class="keyword">null</span>, userDetails.getAuthorities());</span><br><span class="line">                usernamePasswordAuthenticationToken</span><br><span class="line">                        .setDetails(<span class="keyword">new</span> WebAuthenticationDetailsSource().buildDetails(request));</span><br><span class="line">                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        filterChain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="로그인을-위한-Controller-추가"><a href="#로그인을-위한-Controller-추가" class="headerlink" title="로그인을 위한 Controller 추가"></a>로그인을 위한 Controller 추가</h2><p>Username과 Password를 이용해 <code>/api/user/login</code> 경로로 인증을 시도하면 <strong>AuthenticationManager</strong> 객체를 이용해 인증을 진행하고 인증이 성공적으로 완료 되면 JWT를 생성해 Header에 JWT를 넣어 <strong>Status code : 200</strong>과 함께 반환한다.</p><p><em>JwtController.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">....</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> AuthenticationManager authenticationManager;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> JwtUtil jwtUtil;</span><br><span class="line"></span><br><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ResponseEntity <span class="title">login</span><span class="params">(<span class="meta">@RequestBody</span> AuthRequest authRequest)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    String username = authRequest.getUsername();</span><br><span class="line">    String password = authRequest.getPassword();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// AuthnRequest로부터 받은 username과 password를 이용하여 UsernamePasswordAuthenticationToken을 생성한 후</span></span><br><span class="line">        <span class="comment">// 생성된 토큰을 이용해 인증을 시도한다.</span></span><br><span class="line">        authenticationManager.authenticate(</span><br><span class="line">                <span class="keyword">new</span> UsernamePasswordAuthenticationToken(username, password));</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> Exception(<span class="string">&quot;inavalid username/password&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    String token = jwtUtil.generateToken(authRequest.getUsername());</span><br><span class="line"></span><br><span class="line">    HttpHeaders httpHeaders = <span class="keyword">new</span> HttpHeaders();</span><br><span class="line">    httpHeaders.add(<span class="string">&quot;Authorization&quot;</span>, <span class="string">&quot;Bearer &quot;</span> +token);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 인증이 정상적으로 이루어진 경우 username을 이용해 JWT를 생성해 반환한다.</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ResponseEntity(httpHeaders, HttpStatus.OK);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="권한을-갖고-접근하기-위한-Controller-추가"><a href="#권한을-갖고-접근하기-위한-Controller-추가" class="headerlink" title="권한을 갖고 접근하기 위한 Controller 추가"></a>권한을 갖고 접근하기 위한 Controller 추가</h2><ul><li>반환받은 JWT를 갖고 <code>/api/user/access</code> 경로로 접근하면 <code>Permission to Access</code> 문구가 반환된다.</li></ul><p><em>JwtController.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/access&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">accessByToken</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Permission to Access&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Security-설정-추가하기"><a href="#Security-설정-추가하기" class="headerlink" title="Security 설정 추가하기"></a>Security 설정 추가하기</h2><p>AuthenticationManagerBuilder객체의 userDetailsService 메소드를 이용해 사용자가 정의한 CustomUserDetailsService 객체를 사용하도록 등록한다.</p><p><em>SecurityConfig.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(AuthenticationManagerBuilder auth)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    <span class="comment">// 사용자가 정의한 UserDetailsService를 사용한다.</span></span><br><span class="line">    auth.userDetailsService(customUserDetailsService);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>회원가입을 위한 <code>/api/user/signup</code> 경로와 로그인을 위한 <code>/api/user/login</code> 경로는 인증전에 접근하기 위한 경로이므로 권한 없이 접근 가능해야 한다. 그외 모든 경로는 인증된 사용자만 접근 할 수 있도록 설정한다.</p><p>사용자 정의 Filter인 <strong>JwtAuthenticationFilter</strong>를 Spring Filter에 추가한다.</p><p><em>SecurityConfig.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">    http.csrf().disable().authorizeRequests()</span><br><span class="line">            .antMatchers(<span class="string">&quot;/api/user/login&quot;</span>).permitAll()</span><br><span class="line">            .antMatchers(<span class="string">&quot;/api/user/signup&quot;</span>).permitAll()</span><br><span class="line">            .anyRequest().authenticated()</span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// 토큰을 활용하면 세션이 필요 없으므로 STATELESS로 설정하여 Session을 사용하지 않는다.</span></span><br><span class="line">            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</span><br><span class="line">            .and()</span><br><span class="line">            <span class="comment">// form 기반의 로그인에 대해 비활성화 한다.</span></span><br><span class="line">            .formLogin().disable()</span><br><span class="line">            <span class="comment">// 새롭게 정의한 Filter를 등록한다.</span></span><br><span class="line">            .addFilterBefore(jwtAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/">Spring Security</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/JWT/">JWT</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/JWT/">JWT</category>
      
      
      <comments>https://ckck803.github.io/2021/03/15/springboot/security/JWT/spring-jwt-4/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring-JWT(JSON Web Token) - 3. Spring Security 적용하기</title>
      <link>https://ckck803.github.io/2021/03/15/springboot/security/JWT/spring-jwt-3/</link>
      <guid>https://ckck803.github.io/2021/03/15/springboot/security/JWT/spring-jwt-3/</guid>
      <pubDate>Sun, 14 Mar 2021 15:49:30 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/security/JWT/JWT3.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;3-로그인&quot;&gt;&lt;a href=&quot;#3-로그인&quot; class=&quot;headerlink&quot; title=&quot;3. 로그인&quot;&gt;&lt;/a&gt;3. 로그인&lt;/h1</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/security/JWT/JWT3.png"></p><h1 id="3-로그인"><a href="#3-로그인" class="headerlink" title="3. 로그인"></a>3. 로그인</h1><h2 id="의존성-추가"><a href="#의존성-추가" class="headerlink" title="의존성 추가"></a>의존성 추가</h2><p>Spring Boot에 Security를 적용하기 위해 Spring Security 의존성과 JWT를 사용하기위해 jjwt 의존성을 추가해주도록 한다.</p><p><em>build.gradle</em></p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    ....</span><br><span class="line">    implementation <span class="string">&#x27;org.thymeleaf.extras:thymeleaf-extras-springsecurity5&#x27;</span></span><br><span class="line">    <span class="comment">// https://mvnrepository.com/artifact/io.jsonwebtoken/jjwt</span></span><br><span class="line">    implementation <span class="attr">group:</span> <span class="string">&#x27;io.jsonwebtoken&#x27;</span>, <span class="attr">name:</span> <span class="string">&#x27;jjwt&#x27;</span>, <span class="attr">version:</span> <span class="string">&#x27;0.9.1&#x27;</span></span><br><span class="line">    ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Security-설정하기"><a href="#Security-설정하기" class="headerlink" title="Security 설정하기"></a>Security 설정하기</h2><p>Spring Security는 인증에 필요한 사용자 정보를 저장할 때 비밀번호는 <strong>PasswordEncoder 객체</strong>를 이용해 <strong>암호화된 Password</strong>로 저장돼야 한다. 현재 프로젝트에서는 <strong>PasswordEncoder를 구현한 BcryptPasswordEncoder 객체</strong>를 이용해 암호화를 할 것이다.</p><p>정적자원에 대한 접근은 Spring Filter를 거치지 않도록 설정을 추가한다.</p><p><em>SecurityConfig.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SecurityConfig</span> <span class="keyword">extends</span> <span class="title">WebSecurityConfigurerAdapter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String[] CLASSPATH_RESOURCE_LOCATIONS = &#123;</span><br><span class="line">            <span class="string">&quot;classpath:/static/&quot;</span></span><br><span class="line">            , <span class="string">&quot;classpath:/public/&quot;</span></span><br><span class="line">            , <span class="string">&quot;classpath:/&quot;</span></span><br><span class="line">            , <span class="string">&quot;classpath:/resources/&quot;</span></span><br><span class="line">            , <span class="string">&quot;classpath:/META-INF/resources/&quot;</span></span><br><span class="line">            , <span class="string">&quot;classpath:/META-INF/resources/webjars/&quot;</span> &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(WebSecurity web)</span> </span>&#123;</span><br><span class="line">        web.ignoring().requestMatchers(PathRequest.toStaticResources().atCommonLocations());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AuthenticationManager <span class="title">authenticationManagerBean</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.authenticationManagerBean();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">configure</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        http.csrf().disable().authorizeRequests()</span><br><span class="line">                .antMatchers(<span class="string">&quot;/api/user/signup&quot;</span>).permitAll()</span><br><span class="line">                .anyRequest().authenticated()</span><br><span class="line">                .and()</span><br><span class="line">                <span class="comment">// 토큰을 활용하면 세션이 필요 없으므로 STATELESS로 설정하여 Session을 사용하지 않는다.</span></span><br><span class="line">                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)</span><br><span class="line">                .and()</span><br><span class="line">                <span class="comment">// form 기반의 로그인에 대해 비활성화 한다.</span></span><br><span class="line">                .formLogin().disable();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> PasswordEncoder <span class="title">passwordEncoder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> BCryptPasswordEncoder();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="회원-가입-Service에-암호화-적용하기"><a href="#회원-가입-Service에-암호화-적용하기" class="headerlink" title="회원 가입 Service에 암호화 적용하기"></a>회원 가입 Service에 암호화 적용하기</h2><p>PasswordEncoder 객체를 이용해 암호화된 Password를 갖는 Account 객체를 생성하도록 변경한다.</p><p><em>AccountService.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AccountRepository accountRepository;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> PasswordEncoder passwordEncoder;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">saveAccount</span><span class="params">(SignUpRequest signUpRequest)</span> </span>&#123;</span><br><span class="line">        Account newAccount = Account.builder()</span><br><span class="line">                .username(signUpRequest.getUsername())</span><br><span class="line">                .password(passwordEncoder.encode(signUpRequest.getPassword()))</span><br><span class="line">                .role(Role.USER)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> accountRepository.save(newAccount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>username을 이용한 Account 객체 조회 조건 추가하기</p><p><em>AccountRepository.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Account</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">Optional&lt;Account&gt; <span class="title">findByUsername</span><span class="params">(String username)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="인증에-필요한-User-객체-생성하기"><a href="#인증에-필요한-User-객체-생성하기" class="headerlink" title="인증에 필요한 User 객체 생성하기"></a>인증에 필요한 User 객체 생성하기</h2><p>CustomUserDetailsService는 저장된 Account객체를 가져와 UserDetails객체로 변환해주는 역할을 한다.</p><p><em>CustomUserDetailsService.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomUserDetailsService</span> <span class="keyword">implements</span> <span class="title">UserDetailsService</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AccountRepository accountRepository;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> UserDetails <span class="title">loadUserByUsername</span><span class="params">(String username)</span> <span class="keyword">throws</span> UsernameNotFoundException </span>&#123;</span><br><span class="line">        Account account = accountRepository</span><br><span class="line">                .findByUsername(username)</span><br><span class="line">                .orElseThrow(() -&gt; <span class="keyword">new</span> UsernameNotFoundException(username + <span class="string">&quot;사용자 없음&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> User(account.getUsername(),</span><br><span class="line">                account.getPassword(),</span><br><span class="line">                AuthorityUtils.createAuthorityList(account.getRole().getValue()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/">Spring Security</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/JWT/">JWT</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/JWT/">JWT</category>
      
      
      <comments>https://ckck803.github.io/2021/03/15/springboot/security/JWT/spring-jwt-3/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring-JWT(JSON Web Token) - 2. 회원가입</title>
      <link>https://ckck803.github.io/2021/03/14/springboot/security/JWT/spring-jwt-2/</link>
      <guid>https://ckck803.github.io/2021/03/14/springboot/security/JWT/spring-jwt-2/</guid>
      <pubDate>Sun, 14 Mar 2021 13:11:14 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/security/JWT/JWT3.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;2-회원가입&quot;&gt;&lt;a href=&quot;#2-회원가입&quot; class=&quot;headerlink&quot; title=&quot;2. 회원가입&quot;&gt;&lt;/a&gt;2. 회원가입</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/security/JWT/JWT3.png"></p><h1 id="2-회원가입"><a href="#2-회원가입" class="headerlink" title="2. 회원가입"></a>2. 회원가입</h1><h2 id="의존성-관계"><a href="#의존성-관계" class="headerlink" title="의존성 관계"></a>의존성 관계</h2><p><em>build.gradle</em></p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    implementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-data-jpa&#x27;</span></span><br><span class="line">    implementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-security&#x27;</span></span><br><span class="line">    implementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-thymeleaf&#x27;</span></span><br><span class="line">    implementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-web&#x27;</span></span><br><span class="line"></span><br><span class="line">    compileOnly <span class="string">&#x27;org.projectlombok:lombok&#x27;</span></span><br><span class="line">    developmentOnly <span class="string">&#x27;org.springframework.boot:spring-boot-devtools&#x27;</span></span><br><span class="line">    runtimeOnly <span class="string">&#x27;com.h2database:h2&#x27;</span></span><br><span class="line">    annotationProcessor <span class="string">&#x27;org.projectlombok:lombok&#x27;</span></span><br><span class="line">    testImplementation <span class="string">&#x27;org.springframework.boot:spring-boot-starter-test&#x27;</span></span><br><span class="line">    testImplementation <span class="string">&#x27;org.springframework.security:spring-security-test&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="회원가입을-위한-DTO-만들기"><a href="#회원가입을-위한-DTO-만들기" class="headerlink" title="회원가입을 위한 DTO 만들기"></a>회원가입을 위한 DTO 만들기</h2><p><em>SignUpRequest.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SignUpRequest</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="회원-정보를-저장하기-위한-Entity-생성"><a href="#회원-정보를-저장하기-위한-Entity-생성" class="headerlink" title="회원 정보를 저장하기 위한 Entity 생성"></a>회원 정보를 저장하기 위한 Entity 생성</h2><p><em>Account.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@Entity</span></span><br><span class="line"><span class="meta">@Builder</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Id</span> <span class="meta">@GeneratedValue(strategy = GenerationType.IDENTITY)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Column(unique = true)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Role role;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Account를-저장하기-위한-Repository-생성"><a href="#Account를-저장하기-위한-Repository-생성" class="headerlink" title="Account를 저장하기 위한 Repository 생성"></a>Account를 저장하기 위한 Repository 생성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">AccountRepository</span> <span class="keyword">extends</span> <span class="title">JpaRepository</span>&lt;<span class="title">Account</span>, <span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="회원-가입-요청을-처리하기-위한-Service-생성"><a href="#회원-가입-요청을-처리하기-위한-Service-생성" class="headerlink" title="회원 가입 요청을 처리하기 위한 Service 생성"></a>회원 가입 요청을 처리하기 위한 Service 생성</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AccountService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AccountRepository accountRepository;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Account <span class="title">saveAccount</span><span class="params">(SignUpRequest signUpRequest)</span> </span>&#123;</span><br><span class="line">        Account newAccount = Account.builder()</span><br><span class="line">                .username(signUpRequest.getUsername())</span><br><span class="line">                .password(signUpRequest.getPassword())</span><br><span class="line">                .role(Role.USER)</span><br><span class="line">                .build();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> accountRepository.save(newAccount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h2><p>회원가입에 필요한 Username과 Password를 갖고 <code>/api/user/signup</code>에 Post 요청을 보내면 회원가입이 정상적으로 이루어진 경우 <strong>Status Code : 200</strong>이 반환되게 된다.</p><p><em>JwtController.java</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/api/user&quot;)</span></span><br><span class="line"><span class="meta">@RequiredArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> AccountService accountService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/signup&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ResponseEntity <span class="title">signup</span><span class="params">(<span class="meta">@RequestBody</span> SignUpRequest signUpRequest)</span></span>&#123;</span><br><span class="line">        accountService.saveAccount(signUpRequest);</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok().build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/">Spring Security</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/Spring-Security/JWT/">JWT</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/JWT/">JWT</category>
      
      
      <comments>https://ckck803.github.io/2021/03/14/springboot/security/JWT/spring-jwt-2/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>메모리 관리</title>
      <link>https://ckck803.github.io/2021/03/08/computer-science/os/memory-management/</link>
      <guid>https://ckck803.github.io/2021/03/08/computer-science/os/memory-management/</guid>
      <pubDate>Sun, 07 Mar 2021 15:16:13 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;메모리-관리&quot;&gt;&lt;a href=&quot;#메모리-관리&quot; class=&quot;headerlink&quot; title=&quot;메모리 관리&quot;&gt;&lt;/a&gt;메모리 관리&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;기본적인 메모리 관리&lt;/li&gt;
&lt;li&gt;swapping&lt;/li&gt;
&lt;li&gt;가상 메모리&lt;/l</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="메모리-관리"><a href="#메모리-관리" class="headerlink" title="메모리 관리"></a>메모리 관리</h1><ol><li>기본적인 메모리 관리</li><li>swapping</li><li>가상 메모리</li><li>Page replacement 알고리즘</li><li>세그멘테이션</li></ol><p>프로그래머들이 가장 바라는 메모리는 바로</p><ol><li>크고</li><li>빠르고</li><li>비 휘발성인것을 원한다.</li></ol><h2 id="Memory-Manager-메모리-관리자"><a href="#Memory-Manager-메모리-관리자" class="headerlink" title="Memory Manager(메모리 관리자)"></a>Memory Manager(메모리 관리자)</h2><ul><li>메모리 계층을 관리하는 운영체제의 일부분</li><li>사용하고 있는 메모리와 사용하고있지 않는 메모리를 계속해서 추적한다.</li><li>메모리를 프로세스에 할당하고 해제한다.</li><li>프로세스의 용량이 커서 메모리에 용량이 작을 경우 메모리와 디스크를  swapping한다.</li></ul><h2 id="기본적인-메모리-관리-기법"><a href="#기본적인-메모리-관리-기법" class="headerlink" title="기본적인 메모리 관리 기법"></a>기본적인 메모리 관리 기법</h2><h3 id="paging이나-swapping이-없는-단일-프로그램"><a href="#paging이나-swapping이-없는-단일-프로그램" class="headerlink" title="paging이나 swapping이 없는 단일 프로그램"></a>paging이나 swapping이 없는 단일 프로그램</h3><h2 id="메모리보다-더-큰-Program의-등장"><a href="#메모리보다-더-큰-Program의-등장" class="headerlink" title="메모리보다 더 큰 Program의 등장"></a>메모리보다 더 큰 Program의 등장</h2><p>프로그램이 점점 커지다 보니 우리가 사용하는 메인 메모리보다 큰 프로그램이 생겨나게 됐다.<br>이를 해결하기 위한 방법으로 <strong>overlay</strong>와 <strong>virtual memory</strong> 방법이 나왔다.</p><p>overlay와 virtual memory의 기본 아이디어는 <strong>하나의 프로그램을 여러가지 조각으로 나누어 실행</strong>한다는 공통점이 있다. 하지만, overlay의 경우에는 <strong>프로그래머</strong>가 직접 프로그램들을 나누어야 하고 virtual memory의 경우에는 <strong>컴퓨터</strong>가 대신해준다는 차이점이 있다.</p><h2 id="Virtual-Memory"><a href="#Virtual-Memory" class="headerlink" title="Virtual Memory"></a>Virtual Memory</h2><p>Virtual Memory는 <strong>paging</strong>기법과 <strong>segmentation</strong> 기법을 이용한다.</p><ul><li><code>paging</code> : 고정분할</li><li><code>segmentation</code> : 가변분할</li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/OS/">OS</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/08/computer-science/os/memory-management/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>TCP</title>
      <link>https://ckck803.github.io/2021/03/07/computer-science/network/TCP/</link>
      <guid>https://ckck803.github.io/2021/03/07/computer-science/network/TCP/</guid>
      <pubDate>Sun, 07 Mar 2021 14:21:17 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;TCP-Transmission-Control-Protocol&quot;&gt;&lt;a href=&quot;#TCP-Transmission-Control-Protocol&quot; class=&quot;headerlink&quot; title=&quot;TCP(Transmission Control P</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="TCP-Transmission-Control-Protocol"><a href="#TCP-Transmission-Control-Protocol" class="headerlink" title="TCP(Transmission Control Protocol)"></a>TCP(Transmission Control Protocol)</h1><p><img src="/images/computer-science/network/tcp_layer.png"></p><h2 id="TCP-서비스"><a href="#TCP-서비스" class="headerlink" title="TCP 서비스"></a>TCP 서비스</h2><ul><li><strong>연결 지향</strong>의 <strong>신뢰성이 있는 바이트 스트림 서비스</strong>를 제공한다.</li><li><strong>양방향 통신</strong>을 지원한다.(Full-Duplex Communication)</li><li><strong>흐름제어</strong>와 <strong>에러제어</strong>, 그리고 <strong>혼잡제어</strong>를 제공한다.(신뢰성 있는 전송)</li></ul><h2 id="신뢰성-있는-전송이란"><a href="#신뢰성-있는-전송이란" class="headerlink" title="신뢰성 있는 전송이란?"></a>신뢰성 있는 전송이란?</h2><ul><li>데이터가 손실, 중복되지 않고 순서가 어긋나지 않는 전송방식</li></ul><h2 id="바이트-스트림-서비스란"><a href="#바이트-스트림-서비스란" class="headerlink" title="바이트 스트림 서비스란?"></a>바이트 스트림 서비스란?</h2><blockquote><p>데이터 송 수신시 버퍼 기능을 이용해 Byte 단위로 처리</p></blockquote><p><img src="/images/computer-science/network/stream.png"></p><p><img src="/images/computer-science/network/segment.png"></p><p>TCP는 데이터 송/수신시 버퍼를 이용하기 때문에 흐름제어를 할 수 있다.</p><h2 id="Connection-Oriented-Protocal-연결-지향-프로토콜"><a href="#Connection-Oriented-Protocal-연결-지향-프로토콜" class="headerlink" title="Connection Oriented Protocal(연결 지향 프로토콜)"></a>Connection Oriented Protocal(연결 지향 프로토콜)</h2><p>연결지향 프로토콜은 다음과 같은 3가지 단계를 거치게 된다.</p><ol><li>연결</li><li>데이터 전송</li><li>연결 종료</li></ol><h2 id="3-way-handskaing"><a href="#3-way-handskaing" class="headerlink" title="3-way handskaing"></a>3-way handskaing</h2><p><img src="/images/computer-science/network/3-way-handshake.png"></p><ol><li>클라이언트가 서버로 SYN 패킷을 보낸다. 그리고 클라이언트는 SYN/ACK응답을 기다리는 SYN_SENT상태가 된다.</li><li>서버는 SYN요청을 받고 클라이언트에게 요청을 수락한다는 ACK와 SYN flog가 설정된 패킷을 발송하고 클라이언트가 ACK로 응답하기를 기다린다. 서버는 SYN_RECEIVED 상태가 된다.</li><li>클라이언트는 서버로 ACK를 보내게 되면 서버와 클라이언트가 연결이 이루어진다. 서버 상태는 ESTABLISHED가 된다.</li></ol><blockquote><p>SYN(클라이언트) -&gt; SYN/ACK(서버) -&gt; ACK(클라이언트)<br>SYN_SENT(클라이언트) -&gt; SYN_RECEIVED(서버) -&gt; ESTABLISED(서버)  </p></blockquote><h2 id="4-way-handshaking"><a href="#4-way-handshaking" class="headerlink" title="4-way handshaking"></a>4-way handshaking</h2><p><img src="/images/computer-science/network/4-way-handshake.png"></p><ol><li>클라이언트가 연결을 종료하겠다는 FIN 패킷을 전송한다.</li><li>FIN 패킷을 받은 서버는 클라이언트에서 서버로 데이터를 전송하는 연결을 끊는다. 서버에서 클라이언트로 데이터를 전송하는 연결은 아직 살아있다.(Half-closed)</li><li>서버에서 클라이언트로의 통신이 끝나게 되면 서버에서 FIN 패킷을 전송한다.</li><li>FIN 패킷을 받은 클라이언트는 마지막으로 ACK패킷을 보내게 되면 연결이 끊기게 된다.</li></ol><h2 id="TCP에-사용되는-flag-control-field"><a href="#TCP에-사용되는-flag-control-field" class="headerlink" title="TCP에 사용되는 flag(control field)"></a>TCP에 사용되는 flag(control field)</h2><p><img src="/images/computer-science/network/tcp-control-field.png"></p><ul><li>ACK(Acknowledgment) : 확인을 위한 flag</li><li>SYN(Synchronize sequence numbers) : TCP를 이용해 연결을 만들 때 사용하는 flag</li><li>FIN(Terminate the connection) : TCP 연결을 끊을 때 사용한다.</li><li>URG(Urgent) : urgent data가 존재함을 알려준다. urgent data는 다른 데이터를 무시하고 바로 process로 보내진다.</li><li>RST(Reset the connection) : 비정상적으로 connection을 끊을 때 사용한다.</li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/Network/">Network</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/07/computer-science/network/TCP/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>클라우드 서비스</title>
      <link>https://ckck803.github.io/2021/03/07/computer-science/network/cloud/</link>
      <guid>https://ckck803.github.io/2021/03/07/computer-science/network/cloud/</guid>
      <pubDate>Sun, 07 Mar 2021 14:16:32 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/computer-science/network/cloud-service-type.jpeg&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;클라우드-서비스-종류&quot;&gt;&lt;a href=&quot;#클라우드-서비스-종류&quot; class=&quot;headerlink&quot; t</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/computer-science/network/cloud-service-type.jpeg"></p><h2 id="클라우드-서비스-종류"><a href="#클라우드-서비스-종류" class="headerlink" title="클라우드 서비스 종류"></a>클라우드 서비스 종류</h2><h3 id="IaaS-Infrastructure-as-a-Service"><a href="#IaaS-Infrastructure-as-a-Service" class="headerlink" title="IaaS(Infrastructure as a Service)"></a>IaaS(Infrastructure as a Service)</h3><p>인프라를 제공하는 방식 - 컴퓨터를 대여해주는 거라고 생각하면 이해하기 쉽다. 아마존의 AWS, MS의 Azure, 구글의 GCP</p><h3 id="Platform-as-a-Service"><a href="#Platform-as-a-Service" class="headerlink" title="Platform as a Service"></a>Platform as a Service</h3><p>플랫폼을 제공하는 방식 - IaaS 서비스에 Runtime환경까지 설정이 이미 되어 있기 때문에 </p><h3 id="Software-as-a-Service"><a href="#Software-as-a-Service" class="headerlink" title="Software as a Service"></a>Software as a Service</h3><p>특정 소프트웨어를 제공하는 방식 - 드랍박스, 구글 Docs, 오피스365</p><h2 id="장점"><a href="#장점" class="headerlink" title="장점"></a>장점</h2><ul><li>컴퓨팅 환경을 빠르게 구축할 수 있다는 장점이 있다.</li><li>사용한 만큼만 돈을 지불하면 된다.</li><li>특정기간 트래픽이 폭주하는 경우에 자원의 리소스 추가와 삭제가 기존의 on-premise방식에 비해 용이하다.</li><li>서버를 관리하기 위한 물리적 공간과 인적 자원에 대해 신경쓸 필요가 없어진다.</li></ul><h2 id="단점"><a href="#단점" class="headerlink" title="단점"></a>단점</h2><ul><li>트래픽처리에 따른 초과비용 위험</li><li>보안 이슈 - 자사의 프라이빗 서버에 저장하는것이 다른 외부인이 볼 수 있다는 단점이 있다.</li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/Network/">Network</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/07/computer-science/network/cloud/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Boot 게시판 만들기 23 - Log4jdbc를 이용해 Query 로그 기록하기</title>
      <link>https://ckck803.github.io/2021/03/06/springboot/sample-board/board-23-logging/</link>
      <guid>https://ckck803.github.io/2021/03/06/springboot/sample-board/board-23-logging/</guid>
      <pubDate>Sat, 06 Mar 2021 12:59:57 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/sample-board/logback/logback.jpg&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;23-Log4jdbc를-이용해-Query-로그-기록하기&quot;&gt;&lt;a href=&quot;#23-Log4jdbc를-이용해-Qu</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/sample-board/logback/logback.jpg"></p><h1 id="23-Log4jdbc를-이용해-Query-로그-기록하기"><a href="#23-Log4jdbc를-이용해-Query-로그-기록하기" class="headerlink" title="23. Log4jdbc를 이용해 Query 로그 기록하기"></a>23. Log4jdbc를 이용해 Query 로그 기록하기</h1><h2 id="로그-레벨"><a href="#로그-레벨" class="headerlink" title="로그 레벨"></a>로그 레벨</h2><blockquote><p>TRACE &gt; DEBUG &gt; INFO &gt; WARN &gt; ERROR</p></blockquote><p>로그 레벨은 TRACE로 갈 수록 표현되는 Log의 양이 많아지고 ERROR로 갈 수록 표현되는 Log의 양이 적어진다.</p><h2 id="Configure-파일-문법"><a href="#Configure-파일-문법" class="headerlink" title="Configure 파일 문법"></a>Configure 파일 문법</h2><p>Logback Configure파일을 구성하는 3가지 태그가 있다.</p><ul><li><code>appender</code><ul><li>로그의 <strong>출력 위치</strong>, <strong>출력 형식</strong>및 로깅에 대한 설정(ex. 기간, 용량 등)을 지정한다</li></ul></li><li><code>root</code><ul><li><strong>전역적인 로그 설정</strong>을 위해 사용한다.</li><li>appender를 사용해 appender에 정의된 형식과 위치로 로그를 출력</li><li>여러개의 appender를 사용할 수 있다.</li></ul></li><li><code>logger</code><ul><li>root와는 반대로 <strong>class나 Package단위로 Logging 정책</strong>을 설정할 수 있다.</li><li>로그 메시지를 작성하기 위해 사용하는 클래스를 명시하고 appender를 사용해 appender에 정의된 형식과 위치로 로그를 출력한다.</li><li>여러개의 appender를 사용할 수 있다.</li></ul></li></ul><p><img src="/images/springboot/sample-board/logback/basicSyntax.png"></p><h2 id="appender-클래스의-종류"><a href="#appender-클래스의-종류" class="headerlink" title="appender 클래스의 종류"></a>appender 클래스의 종류</h2><ul><li><code>ch.qos.logback.core.ConsoleAppender</code><ul><li>콘솔에 로그를 찍음</li></ul></li><li><code>ch.qos.logback.core.FileAppender</code><ul><li>파일에 로그를 찍음</li></ul></li><li><code>ch.qos.logback.core.rolling.RollingFileAppender</code><ul><li>여러개의 파일을 순회하면서 로그를 찍음</li></ul></li><li><code>ch.qos.logback.classic.net.SMTPAppender</code><ul><li>로그를 메일에 찍어 보냄</li></ul></li><li><code>ch.qos.logback.classic.db.DBAppender</code><ul><li>데이터베이스에 로그를 찍음</li></ul></li></ul><hr><h2 id="의존성-추가하기"><a href="#의존성-추가하기" class="headerlink" title="의존성 추가하기"></a>의존성 추가하기</h2><p>쿼리 로그를 저장하기 위해서는 <strong>log4jdbc</strong> 의존성을 추가해줄 필요가 있다.</p><p><em>build.gradle</em></p><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">implementation <span class="keyword">group</span>: <span class="string">&#x27;com.integralblue&#x27;</span>, name: <span class="string">&#x27;log4jdbc-spring-boot-starter&#x27;</span>, version: <span class="string">&#x27;2.0.0&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="설정-추가하기"><a href="#설정-추가하기" class="headerlink" title="설정 추가하기"></a>설정 추가하기</h2><ul><li><code>jdbc.sqlonly</code><ul><li>SQL문만을 로그로 남긴다.</li></ul></li><li><code>jdbc.sqltiming</code><ul><li>SQL문과 해당 SQL을 수행한 시간을 로그로 남긴다.</li></ul></li><li><code>jdbc.audit</code><ul><li>ResultSet을 제외한 모든 JDBC 호출 정보를 로그로 남긴다.</li><li>많은 양의 로그를 생성하므로 JDBC 문제를 추적해야 할 필요를 죄외하고는 사용하지 않는다.</li></ul></li><li><code>jdbc.resultset</code><ul><li>ResultSet을 포함한 모든 JDBC 호출 정보를 로그로 남긴다.</li><li>많은 양의 로그를 생성하므로 JDBC 문제를 추적해야 할 필요를 죄외하고는 사용하지 않는다.</li></ul></li><li><code>jdbc.resultsettable</code><ul><li>SQL문을 수행한 후 조회된 table을 로그로 남긴다.</li></ul></li></ul><p><em>logback-spring.xml</em></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;LOGS_PATH&quot;</span> <span class="attr">value</span>=<span class="string">&quot;./logs&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;jdbc.sqlonly&quot;</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;off&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">appender-ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="DataBase-접속-설정-추가하기"><a href="#DataBase-접속-설정-추가하기" class="headerlink" title="DataBase 접속 설정 추가하기"></a>DataBase 접속 설정 추가하기</h2><p>DataBase 접속 URL과 Driver를 변경해줄 필요가 있다. URL에서는 jdbc하고 접속하고 싶은 DB사이에 <strong>log4jdbc</strong>를 추가해주면 된다. Driver는 log4jdbc에서 제공해주는 Driver를 사용하면 된다.</p><ul><li><code>url</code>: jdbc:log4jdbc:h2:mem:testdb</li><li><code>driver-class-name</code>: net.sf.log4jdbc.sql.jdbcapi.DriverSpy</li></ul><p><em>appplication.yml</em></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">datasource:</span></span><br><span class="line">  <span class="comment">#    url: jdbc:h2:mem:testdb</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">jdbc:log4jdbc:h2:mem:testdb</span></span><br><span class="line">  <span class="attr">driver-class-name:</span> <span class="string">net.sf.log4jdbc.sql.jdbcapi.DriverSpy</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">sa</span></span><br><span class="line">  <span class="attr">password:</span></span><br></pre></td></tr></table></figure><p>Console에 SQL문이 찍히는 것을 확인할 수 있다. 이상하게 <strong>Memory DB</strong>를 사용하는 경우 SQL문이 중복으로 찍힌다.</p><p><img src="/images/springboot/sample-board/logback/console-log.png"></p><h3 id="MySQL-접속-설정-변경하기"><a href="#MySQL-접속-설정-변경하기" class="headerlink" title="MySQL 접속 설정 변경하기"></a>MySQL 접속 설정 변경하기</h3><p>H2 DataBase했던 것과 마찬가지로 Driver와 URL을 변경해준다.</p><p><em>application-mysql.yml</em></p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">net.sf.log4jdbc.sql.jdbcapi.DriverSpy</span></span><br><span class="line"><span class="comment">#    driver-class-name: com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:log4jdbc:mysql://localhost:3306/test?serverTimezone=UTC&amp;characterEncoding=UTF-8</span></span><br><span class="line"><span class="comment">#    url: jdbc:mysql://localhost:3306/test?serverTimezone=UTC&amp;characterEncoding=UTF-8</span></span><br><span class="line">    <span class="attr">username:</span> [<span class="string">DataBase</span> <span class="string">ID</span>]</span><br><span class="line">    <span class="attr">password:</span> [<span class="string">DataBase</span> <span class="string">Password</span>]</span><br></pre></td></tr></table></figure><p>Create시 <strong>engine=InnoDB</strong>가 나타난 것을 보아 MySQL을 이용한 SQL문이 제대로 생성됨을 알 수 있다.</p><p><img src="/images/springboot/sample-board/logback/console-log-mysql.png"></p><h2 id="파일에-Log-출력하기"><a href="#파일에-Log-출력하기" class="headerlink" title="파일에 Log 출력하기"></a>파일에 Log 출력하기</h2><p>파일에 로그를 남기기 위해 appender 클래스로 <strong>ch.qos.logback.core.FileAppender</strong>를 사용할 것이다.</p><h4 id="로그파일을-관리하는-정책-세우기"><a href="#로그파일을-관리하는-정책-세우기" class="headerlink" title="로그파일을 관리하는 정책 세우기"></a>로그파일을 관리하는 정책 세우기</h4><p><strong>rollingPolicy</strong> 태그를 이용해 로그파일을 관리하는 정책을 세울 수 있다.</p><ul><li><code>rollingPolicy</code> <ul><li><code>ch.qos.logback.core.rolling.RollingFileAppender</code> <ul><li><strong>일자별</strong>로 로그파일을 관리한다.</li><li>일자가 바뀌면 <strong>fileNamePattern</strong>에 따라 별도의 로그파일이 생성된다.</li></ul></li><li><code>timeBasedFileNamingAndTriggeringPolicy</code><ul><li>일자 외에도 <strong>파일의 용량</strong>에 따라 별도의 로그파일이 생성된다.</li><li><strong>maxFileSize</strong>보다 로그 파일의 크기가 커지면 별도의 로그파일이 생성된다.</li></ul></li></ul></li></ul><p><em>logback-spring.xml</em></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;LOGS_PATH&quot;</span> <span class="attr">value</span>=<span class="string">&quot;./logs&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;36&#125; - %msg%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;FILE&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;LOGS_PATH&#125;/logback.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">Pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss&#125;- %-5level - %msg%n<span class="tag">&lt;/<span class="name">Pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">fileNamePattern</span>&gt;</span>$&#123;LOGS_PATH&#125;/$&#123;LOG_PREFIX&#125;.%d&#123;yyyy-MM-dd&#125;.%i.log<span class="tag">&lt;/<span class="name">fileNamePattern</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">timeBasedFileNamingAndTriggeringPolicy</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">maxFileSize</span>&gt;</span>10MB<span class="tag">&lt;/<span class="name">maxFileSize</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">timeBasedFileNamingAndTriggeringPolicy</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--    &lt;logger name=&quot;jdbc.sqlonly&quot; level=&quot;INFO&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;jdbc.sqlonly&quot;</span> <span class="attr">level</span>=<span class="string">&quot;INFO&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;off&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;FILE&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">appender-ref</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>logs라는 폴더가 생성되고 여기에 <strong>logback.log</strong>라는 파일이 생성되 로그가 찍히는 것을 확인할 수 있다.</p><p><em>logback.log</em></p><p><img src="/images/springboot/sample-board/logback/file-log.png"></p><p><a href="http://logback.qos.ch/manual/index.html">http://logback.qos.ch/manual/index.html</a></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0/">게시판 만들기</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/CRUD/">CRUD</category>
      
      <category domain="https://ckck803.github.io/tags/Logging/">Logging</category>
      
      
      <comments>https://ckck803.github.io/2021/03/06/springboot/sample-board/board-23-logging/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>Spring Boot 게시판 만들기 22 - Github Action 사용하기</title>
      <link>https://ckck803.github.io/2021/03/06/springboot/sample-board/board-22-github-action/</link>
      <guid>https://ckck803.github.io/2021/03/06/springboot/sample-board/board-22-github-action/</guid>
      <pubDate>Sat, 06 Mar 2021 05:12:05 GMT</pubDate>
      
        
        
      <description>&lt;p&gt;&lt;img src=&quot;/images/springboot/sample-board/github-action/github-action.png&quot;&gt;&lt;/p&gt;
&lt;h1 id=&quot;22-Github-Action-사용하기&quot;&gt;&lt;a href=&quot;#22-Github-Action</description>
        
      
      
      
      <content:encoded><![CDATA[<p><img src="/images/springboot/sample-board/github-action/github-action.png"></p><h1 id="22-Github-Action-사용하기"><a href="#22-Github-Action-사용하기" class="headerlink" title="22. Github Action 사용하기"></a>22. Github Action 사용하기</h1><p>이전에 Jenkins를 이용해 CI 환경을 구성했다. Jenkins를 이용한 CI 환경의 가장 큰 단점은 Github로부터 Web Hook을 받을 수 있게 Port를 열어둬야 한다는 것이다. ngrok을 이용하더라도 계속해서 Port를 열어둘 수는 없는 노릇이라서 Github에서 제공하는 CI 도구인 Github Action을 이용하기로 했다.</p><h2 id="Github-Action-Workflow-Template-선택하기"><a href="#Github-Action-Workflow-Template-선택하기" class="headerlink" title="Github Action Workflow Template 선택하기"></a>Github Action Workflow Template 선택하기</h2><p>Github에서 프로젝트를 선택하면 상단에 Action을 선택하면 본인의 환경에 맞는 Build 환경을 위한 Template를 선택할 수 있다.</p><p><img src="/images/springboot/sample-board/github-action/action.png"></p><p>Gradle을 이용해 Spring Boot 프로젝트를 진행하고 있으므로 Gradle을 선택하도록 한다.</p><p><img src="/images/springboot/sample-board/github-action/github-action-gradle.png"></p><h2 id="Template-수정하기"><a href="#Template-수정하기" class="headerlink" title="Template 수정하기"></a>Template 수정하기</h2><p>Gradle을 선택하게 되면 기본적으로 Gradle을 이용한 Build Plan Template가 주어진다. 기본적인 Template에서는 JDK 버전이 1.8인데 프로젝트는 JDK 11을 이용해 진행하고 있으므로 변경해줄 필요가 있다. 그 외에 운영체제나 원하는 Build Branch들을 선택할 수 있다.</p><ul><li><p><code>on-push-branch</code></p><ul><li><strong>Push</strong>를 했을 때 <strong>Build를 진행할 Branch</strong>를 선택한다.</li><li>현재는 master에서 Push가 일어났을 때만 Build를 진행한다.</li></ul></li><li><p><code>on-pull_request-branch</code></p><ul><li><strong>Pull Request</strong>를 진행했을 때 <strong>Build를 진행할 Branch</strong>를 선택한다.</li><li>현재는 master로 Pull Requst를 진행할 때만 Build를 진행한다.</li></ul></li><li><p><code>jobs-build-runs-on</code></p><ul><li>Build를 진행할 환경(운영체제)를 선택한다.</li></ul></li><li><p><code>jobs-build-steps</code></p><ul><li>Build를 진행할 단계를 정의한다.</li></ul></li><li><p><code>jobs-build-steps-name</code></p><ul><li>Build 단계 이름을 명시한다.</li></ul></li><li><p><code>jobs-build-steps-uses</code></p><ul><li>Build 단계에서 사용할 것들을 나타낸다.</li><li>actions/checkout@v2 : 현재 Repository의 Project를 확인한다.</li><li>actions/setup-java@v1 : 사용할 자바 버전을 명시한다. <code>with</code>를 사용해 사용 버전까지 명시</li></ul></li><li><p><code>jobs-build-steps-run</code></p><ul><li>명령어들을 수핸한다.</li><li>chmod +x ./gradlew : gradlew에 대한 실행 권한을 부여한다.</li><li>./gradlew clean build : gradlew를 이용해서 Build를 진행한다.</li></ul></li></ul><p><img src="/images/springboot/sample-board/github-action/github-action-template.png"></p><h2 id="Github-Action을-통한-Build-진행하기"><a href="#Github-Action을-통한-Build-진행하기" class="headerlink" title="Github Action을 통한 Build 진행하기"></a>Github Action을 통한 Build 진행하기</h2><p>Template 작성을 완료한 후 우측 상단의 commit을 누르게 되면 Build가 진행되게 된다.</p><p><img src="/images/springboot/sample-board/github-action/github-action-build.png"></p>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/categories/Spring-Boot/%EA%B2%8C%EC%8B%9C%ED%8C%90-%EB%A7%8C%EB%93%A4%EA%B8%B0/">게시판 만들기</category>
      
      
      <category domain="https://ckck803.github.io/tags/Spring-Boot/">Spring Boot</category>
      
      <category domain="https://ckck803.github.io/tags/CRUD/">CRUD</category>
      
      <category domain="https://ckck803.github.io/tags/Github-Action/">Github Action</category>
      
      
      <comments>https://ckck803.github.io/2021/03/06/springboot/sample-board/board-22-github-action/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>복수의 테이블 다루기</title>
      <link>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/union-join/</link>
      <guid>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/union-join/</guid>
      <pubDate>Sat, 06 Mar 2021 01:02:35 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;07장-복수의-테이블-다루기&quot;&gt;&lt;a href=&quot;#07장-복수의-테이블-다루기&quot; class=&quot;headerlink&quot; title=&quot;07장 복수의 테이블 다루기&quot;&gt;&lt;/a&gt;07장 복수의 테이블 다루기&lt;/h1&gt;&lt;h2 id=&quot;UNION으로-합집합-구</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="07장-복수의-테이블-다루기"><a href="#07장-복수의-테이블-다루기" class="headerlink" title="07장 복수의 테이블 다루기"></a>07장 복수의 테이블 다루기</h1><h2 id="UNION으로-합집합-구하기"><a href="#UNION으로-합집합-구하기" class="headerlink" title="UNION으로 합집합 구하기"></a>UNION으로 합집합 구하기</h2><h3 id="UNION으로-합집합-구하기-1"><a href="#UNION으로-합집합-구하기-1" class="headerlink" title="UNION으로 합집합 구하기"></a>UNION으로 합집합 구하기</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample71_a;</span><br><span class="line"></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample71_b;</span><br><span class="line"></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> b    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">11</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="두개의-SELECT-명령을-UNION해서-합집합-구하기"><a href="#두개의-SELECT-명령을-UNION해서-합집합-구하기" class="headerlink" title="두개의 SELECT 명령을 UNION해서 합집합 구하기"></a>두개의 SELECT 명령을 UNION해서 합집합 구하기</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample71_a</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample71_b;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">11</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><ul><li>UNION 연산을 하기 위해서는 SELECT 명령의 열의 내용이 서로 일치해야 한다.</li><li>UNION을 사용할 경우 각 SECECT명령에 ORDER BY를 지정해 정렬할 수는 없다. 마지막 SELECT 명령에만 지정하도록 한다.</li></ul><h3 id="두개의-SELECT-명령에-UNION-ALL을-적용해-합집합-구하기"><a href="#두개의-SELECT-명령에-UNION-ALL을-적용해-합집합-구하기" class="headerlink" title="두개의 SELECT 명령에 UNION ALL을 적용해 합집합 구하기"></a>두개의 SELECT 명령에 UNION ALL을 적용해 합집합 구하기</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample71_a</span><br><span class="line"><span class="keyword">UNION</span> <span class="keyword">ALL</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample71_b;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="number">11</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">6</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="테이블-결합"><a href="#테이블-결합" class="headerlink" title="테이블 결합"></a>테이블 결합</h2><h3 id="교차-결합"><a href="#교차-결합" class="headerlink" title="교차 결합"></a>교차 결합</h3><h4 id="FROM-구로-곱집합-구하기"><a href="#FROM-구로-곱집합-구하기" class="headerlink" title="FROM 구로 곱집합 구하기"></a>FROM 구로 곱집합 구하기</h4><blockquote><p>FROM구에 테이블 두개를 지정해 곱집합 구하기</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample72_x, sample72_y;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> x    <span class="operator">|</span> y    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> A    <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> A    <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> A    <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="내부-결합"><a href="#내부-결합" class="headerlink" title="내부 결합"></a>내부 결합</h3><h4 id="상품-테이블과-재고수-테이블을-교차결합하기"><a href="#상품-테이블과-재고수-테이블을-교차결합하기" class="headerlink" title="상품 테이블과 재고수 테이블을 교차결합하기"></a>상품 테이블과 재고수 테이블을 교차결합하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> 상품, 재고수;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+--------------+--------+--------------+--------------+------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품코드       <span class="operator">|</span> 상품명     <span class="operator">|</span> 메이커명        <span class="operator">|</span> 가격    <span class="operator">|</span> 상품분류        <span class="operator">|</span> 상품코드        <span class="operator">|</span> 입고일     <span class="operator">|</span> 재고수      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+--------------+--------+--------------+--------------+------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0001</span>         <span class="operator">|</span> 상품<span class="number">1</span>     <span class="operator">|</span> 메이커<span class="number">1</span>         <span class="operator">|</span>    <span class="number">100</span> <span class="operator">|</span> 식료품         <span class="operator">|</span> <span class="number">0001</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-03</span> <span class="operator">|</span>       <span class="number">200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0002</span>         <span class="operator">|</span> 상품<span class="number">2</span>     <span class="operator">|</span> 메이커<span class="number">2</span>         <span class="operator">|</span>    <span class="number">200</span> <span class="operator">|</span> 식료품         <span class="operator">|</span> <span class="number">0001</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-03</span> <span class="operator">|</span>       <span class="number">200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> 상품<span class="number">3</span>     <span class="operator">|</span> 메이커<span class="number">3</span>         <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span> 생활용품        <span class="operator">|</span> <span class="number">0001</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-03</span> <span class="operator">|</span>       <span class="number">200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0001</span>         <span class="operator">|</span> 상품<span class="number">1</span>     <span class="operator">|</span> 메이커<span class="number">1</span>         <span class="operator">|</span>    <span class="number">100</span> <span class="operator">|</span> 식료품         <span class="operator">|</span> <span class="number">0002</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-10</span> <span class="operator">|</span>       <span class="number">500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0002</span>         <span class="operator">|</span> 상품<span class="number">2</span>     <span class="operator">|</span> 메이커<span class="number">2</span>         <span class="operator">|</span>    <span class="number">200</span> <span class="operator">|</span> 식료품         <span class="operator">|</span> <span class="number">0002</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-10</span> <span class="operator">|</span>       <span class="number">500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> 상품<span class="number">3</span>     <span class="operator">|</span> 메이커<span class="number">3</span>         <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span> 생활용품        <span class="operator">|</span> <span class="number">0002</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-10</span> <span class="operator">|</span>       <span class="number">500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0001</span>         <span class="operator">|</span> 상품<span class="number">1</span>     <span class="operator">|</span> 메이커<span class="number">1</span>         <span class="operator">|</span>    <span class="number">100</span> <span class="operator">|</span> 식료품         <span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-14</span> <span class="operator">|</span>        <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0002</span>         <span class="operator">|</span> 상품<span class="number">2</span>     <span class="operator">|</span> 메이커<span class="number">2</span>         <span class="operator">|</span>    <span class="number">200</span> <span class="operator">|</span> 식료품         <span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-14</span> <span class="operator">|</span>        <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> 상품<span class="number">3</span>     <span class="operator">|</span> 메이커<span class="number">3</span>         <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span> 생활용품        <span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-14</span> <span class="operator">|</span>        <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+--------------+--------+--------------+--------------+------------+-----------+</span></span><br><span class="line"><span class="number">9</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="상품코드가-같은-행을-검색하기"><a href="#상품코드가-같은-행을-검색하기" class="headerlink" title="상품코드가 같은 행을 검색하기"></a>상품코드가 같은 행을 검색하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> 상품, 재고수 <span class="keyword">WHERE</span> 상품. 상품코드 <span class="operator">=</span> 재고수.상품코드;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+--------------+--------+--------------+--------------+------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품코드       <span class="operator">|</span> 상품명      <span class="operator">|</span> 메이커명       <span class="operator">|</span> 가격    <span class="operator">|</span> 상품분류       <span class="operator">|</span> 상품코드        <span class="operator">|</span> 입고일      <span class="operator">|</span> 재고수      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+--------------+--------+--------------+--------------+------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0001</span>         <span class="operator">|</span> 상품<span class="number">1</span>      <span class="operator">|</span> 메이커<span class="number">1</span>        <span class="operator">|</span>    <span class="number">100</span> <span class="operator">|</span> 식료품        <span class="operator">|</span> <span class="number">0001</span>          <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-03</span> <span class="operator">|</span>       <span class="number">200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0002</span>         <span class="operator">|</span> 상품<span class="number">2</span>      <span class="operator">|</span> 메이커<span class="number">2</span>        <span class="operator">|</span>    <span class="number">200</span> <span class="operator">|</span> 식료품        <span class="operator">|</span> <span class="number">0002</span>          <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-10</span> <span class="operator">|</span>       <span class="number">500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> 상품<span class="number">3</span>      <span class="operator">|</span> 메이커<span class="number">3</span>        <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span> 생활용품       <span class="operator">|</span> <span class="number">0003</span>         <span class="operator">|</span> <span class="number">2014</span><span class="number">-02</span><span class="number">-14</span> <span class="operator">|</span>        <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+--------------+--------+--------------+--------------+------------+-----------+</span></span><br></pre></td></tr></table></figure><h4 id="검색할-행과-반환할-열-제한하기"><a href="#검색할-행과-반환할-열-제한하기" class="headerlink" title="검색할 행과 반환할 열 제한하기"></a>검색할 행과 반환할 열 제한하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 상품.상품명, 재고수.재고수 <span class="keyword">FROM</span> 상품, 재고수</span><br><span class="line"><span class="keyword">WHERE</span> 상품.상품코드 <span class="operator">=</span> 재고수.상품코드</span><br><span class="line"><span class="keyword">AND</span> 상품.상품분류 <span class="operator">=</span> <span class="string">&#x27;식료품&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품명      <span class="operator">|</span> 재고수     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">1</span>      <span class="operator">|</span>       <span class="number">200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">2</span>      <span class="operator">|</span>       <span class="number">500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="내부결합을-활용한-데이터-관리"><a href="#내부결합을-활용한-데이터-관리" class="headerlink" title="내부결합을 활용한 데이터 관리"></a>내부결합을 활용한 데이터 관리</h3><h4 id="상품-테이블과-메이커-테이블을-내부-결합하기"><a href="#상품-테이블과-메이커-테이블을-내부-결합하기" class="headerlink" title="상품 테이블과 메이커 테이블을 내부 결합하기"></a>상품 테이블과 메이커 테이블을 내부 결합하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> S.상품명, M.메이커명</span><br><span class="line"><span class="keyword">FROM</span> 상품<span class="number">2</span> S <span class="keyword">INNER</span> <span class="keyword">JOIN</span> 메이커 M</span><br><span class="line"><span class="keyword">ON</span> S.메이커코드 <span class="operator">=</span> M.메이커코드;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="operator">|</span> 상품명    <span class="operator">|</span> 메이커명     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">1</span>     <span class="operator">|</span> 메이커<span class="number">1</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">2</span>     <span class="operator">|</span> 메이커<span class="number">1</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">3</span>     <span class="operator">|</span> 메이커<span class="number">2</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+--------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h3 id="상품-테이블을-자기결합-하기"><a href="#상품-테이블을-자기결합-하기" class="headerlink" title="상품 테이블을 자기결합 하기"></a>상품 테이블을 자기결합 하기</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> S1.상품명, S2.상품명</span><br><span class="line"><span class="keyword">FROM</span> 상품 S1 <span class="keyword">INNER</span> <span class="keyword">JOIN</span> 상품 S2</span><br><span class="line"><span class="keyword">ON</span> S1.상품코드 <span class="operator">=</span> S2.상품코드;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품명      <span class="operator">|</span> 상품명     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">1</span>      <span class="operator">|</span> 상품<span class="number">1</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">2</span>      <span class="operator">|</span> 상품<span class="number">2</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">3</span>      <span class="operator">|</span> 상품<span class="number">3</span>      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="내부결합에서는-상품코드가-0009인-상품이-제외된다"><a href="#내부결합에서는-상품코드가-0009인-상품이-제외된다" class="headerlink" title="내부결합에서는 상품코드가 0009인 상품이 제외된다."></a>내부결합에서는 상품코드가 0009인 상품이 제외된다.</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 상품<span class="number">3.</span>상품명, 재고수.재고수</span><br><span class="line"><span class="keyword">FROM</span> 상품<span class="number">3</span> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> 재고수</span><br><span class="line"><span class="keyword">ON</span> 상품<span class="number">3.</span>상품코드 <span class="operator">=</span> 재고수.상품코드</span><br><span class="line"><span class="keyword">WHERE</span> 상품<span class="number">3.</span>상품분류<span class="operator">=</span><span class="string">&#x27;식료품&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품명      <span class="operator">|</span> 재고수     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">1</span>      <span class="operator">|</span>       <span class="number">200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">2</span>      <span class="operator">|</span>       <span class="number">500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-----------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h4 id="외부결합으로-상품코드-0009인-상품도-결과에-포함하기"><a href="#외부결합으로-상품코드-0009인-상품도-결과에-포함하기" class="headerlink" title="외부결합으로 상품코드 0009인 상품도 결과에 포함하기"></a>외부결합으로 상품코드 0009인 상품도 결과에 포함하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> 상품<span class="number">3.</span>상품명, 재고수.재고수</span><br><span class="line"><span class="keyword">FROM</span> 상품<span class="number">3</span> <span class="keyword">LEFT</span> <span class="keyword">JOIN</span> 재고수</span><br><span class="line"><span class="keyword">ON</span> 상품<span class="number">3.</span>상품코드 <span class="operator">=</span> 재고수.상품코드</span><br><span class="line"><span class="keyword">WHERE</span> 상품<span class="number">3.</span>상품분류 <span class="operator">=</span> <span class="string">&#x27;식료품&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품명         <span class="operator">|</span> 재고수     <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">1</span>         <span class="operator">|</span>       <span class="number">200</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 상품<span class="number">2</span>         <span class="operator">|</span>       <span class="number">500</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> 추가상품       <span class="operator">|</span>      <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------+-----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/">DataBase</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/SQL/">SQL</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/union-join/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>데이터베이스 객체 작성과 삭제</title>
      <link>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/delete/</link>
      <guid>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/delete/</guid>
      <pubDate>Sat, 06 Mar 2021 01:01:46 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;6장-데이터베이스-객체-작성과-삭제&quot;&gt;&lt;a href=&quot;#6장-데이터베이스-객체-작성과-삭제&quot; class=&quot;headerlink&quot; title=&quot;6장 데이터베이스 객체 작성과 삭제&quot;&gt;&lt;/a&gt;6장 데이터베이스 객체 작성과 삭제&lt;/h1&gt;&lt;h2 i</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="6장-데이터베이스-객체-작성과-삭제"><a href="#6장-데이터베이스-객체-작성과-삭제" class="headerlink" title="6장 데이터베이스 객체 작성과 삭제"></a>6장 데이터베이스 객체 작성과 삭제</h1><h2 id="26장-테이블-작성-삭제-변경"><a href="#26장-테이블-작성-삭제-변경" class="headerlink" title="26장 테이블 작성, 삭제, 변경"></a>26장 테이블 작성, 삭제, 변경</h2><h3 id="CREATE-TABLE로-테이블-작성하기"><a href="#CREATE-TABLE로-테이블-작성하기" class="headerlink" title="CREATE TABLE로 테이블 작성하기"></a>CREATE TABLE로 테이블 작성하기</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sample62(</span><br><span class="line">    <span class="keyword">no</span> <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    a <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">    b <span class="type">DATE</span>);</span><br><span class="line">)</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">DESC</span> sample62;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">date</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="데이터-행-삭제"><a href="#데이터-행-삭제" class="headerlink" title="데이터 행 삭제"></a>데이터 행 삭제</h3><blockquote><p>TRUNCATE TABLE [테이블명]</p></blockquote><h3 id="ALTER-TABLE로-테이블에-열-추가하기"><a href="#ALTER-TABLE로-테이블에-열-추가하기" class="headerlink" title="ALTER TABLE로 테이블에 열 추가하기"></a>ALTER TABLE로 테이블에 열 추가하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample62 <span class="keyword">ADD</span> newcol <span class="type">INTEGER</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample62;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> a      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b      <span class="operator">|</span> <span class="type">date</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> newcol <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>ALTER TABLE ADD로 테이블에 열을 추가할 수 있다.</p></blockquote><h3 id="ALTER-TABLE로-열-속성-변경하기"><a href="#ALTER-TABLE로-열-속성-변경하기" class="headerlink" title="ALTER TABLE로 열 속성 변경하기"></a>ALTER TABLE로 열 속성 변경하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample62 MODIFY newcol <span class="type">VARCHAR</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample62;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> a      <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b      <span class="operator">|</span> <span class="type">date</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> newcol <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="ALTER-TABLE로-열-이름-변경하기"><a href="#ALTER-TABLE로-열-이름-변경하기" class="headerlink" title="ALTER TABLE로 열 이름 변경하기"></a>ALTER TABLE로 열 이름 변경하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample62 CHANGE newcol c <span class="type">VARCHAR</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample62;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">date</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">20</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="ALTER-TABLE로-열-삭제하기"><a href="#ALTER-TABLE로-열-삭제하기" class="headerlink" title="ALTER TABLE로 열 삭제하기"></a>ALTER TABLE로 열 삭제하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> smaple62 <span class="keyword">DROP</span> c;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample62;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">date</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="27장-제약"><a href="#27장-제약" class="headerlink" title="27장 제약"></a>27장 제약</h2><h3 id="테이블-열에-제약-정의하기"><a href="#테이블-열에-제약-정의하기" class="headerlink" title="테이블 열에 제약 정의하기"></a>테이블 열에 제약 정의하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sample631(</span><br><span class="line">    a <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    b <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">    c <span class="type">VARCHAR</span>(<span class="number">30</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="테이블에-‘테이블-제약’-정의하기"><a href="#테이블에-‘테이블-제약’-정의하기" class="headerlink" title="테이블에 ‘테이블 제약’ 정의하기"></a>테이블에 ‘테이블 제약’ 정의하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sample632(</span><br><span class="line">    <span class="keyword">no</span> <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    sub_no <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY(<span class="keyword">no</span>, sub_no)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample632;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sub_no <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="‘테이블-제약’에-이름-부이기"><a href="#‘테이블-제약’에-이름-부이기" class="headerlink" title="‘테이블 제약’에 이름 부이기"></a>‘테이블 제약’에 이름 부이기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sample632(</span><br><span class="line">    <span class="keyword">no</span> <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    sub_no <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    name <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> pkey_sample <span class="keyword">PRIMARY</span> KEY(<span class="keyword">no</span>, sub_no)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">DESC</span> sample632;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field  <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> sub_no <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> name   <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="열-제약-추가하기"><a href="#열-제약-추가하기" class="headerlink" title="열 제약 추가하기"></a>열 제약 추가하기</h3><blockquote><p>기존 테이블 </p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample631 MODIFY c <span class="type">VARCHAR</span>(<span class="number">30</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="테이블-제약-추가하기"><a href="#테이블-제약-추가하기" class="headerlink" title="테이블 제약 추가하기"></a>테이블 제약 추가하기</h3><blockquote><p>기존 테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>기본키 제약 추가하기</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample631 <span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> pkey_sample631 <span class="keyword">PRIMARY</span> KEY(a);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="제약-삭제"><a href="#제약-삭제" class="headerlink" title="제약 삭제"></a>제약 삭제</h3><h4 id="열-제약-삭제하기"><a href="#열-제약-삭제하기" class="headerlink" title="열 제약 삭제하기"></a>열 제약 삭제하기</h4><blockquote><p>기존 테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>c 열의 NOT NULL 제약 없애기</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample631 MODIFY c <span class="type">VARCHAR</span>(<span class="number">30</span>);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="테이블-제약-삭제하기"><a href="#테이블-제약-삭제하기" class="headerlink" title="테이블 제약 삭제하기"></a>테이블 제약 삭제하기</h3><blockquote><p>기존 테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> UNI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>pkey_sample631 제약 삭제하기</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample631 <span class="keyword">DROP</span> <span class="keyword">CONSTRAINT</span> pkey_sample631;</span><br></pre></td></tr></table></figure><blockquote><p>my_sql의 경우</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> sample631 <span class="keyword">DROP</span> <span class="keyword">PRIMARY</span> KEY;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample631;</span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span> PRI <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> c     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="기본키"><a href="#기본키" class="headerlink" title="기본키"></a>기본키</h3><h4 id="sample634-테이블-작성하기"><a href="#sample634-테이블-작성하기" class="headerlink" title="sample634 테이블 작성하기"></a>sample634 테이블 작성하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> sample634(</span><br><span class="line">    p <span class="type">INTEGER</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    a <span class="type">VARCHAR</span>(<span class="number">30</span>),</span><br><span class="line">    <span class="keyword">CONSTRAINT</span> pkey_sample634 <span class="keyword">PRIMARY</span> KEY(p)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h4 id="sample634에-행-추가하기"><a href="#sample634에-행-추가하기" class="headerlink" title="sample634에 행 추가하기"></a>sample634에 행 추가하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample634 <span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;첫째줄&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample634 <span class="keyword">VALUES</span>(<span class="number">2</span>, <span class="string">&#x27;둘째줄&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample634 <span class="keyword">VALUES</span>(<span class="number">3</span>, <span class="string">&#x27;셋째줄&#x27;</span>);</span><br></pre></td></tr></table></figure><h4 id="saple634에-중복하는-행-추가하기"><a href="#saple634에-중복하는-행-추가하기" class="headerlink" title="saple634에 중복하는 행 추가하기"></a>saple634에 중복하는 행 추가하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample634 <span class="keyword">VALUES</span>(<span class="number">2</span>, <span class="string">&#x27;둘째줄&#x27;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="number">1062</span> (<span class="number">23000</span>): Duplicate entry <span class="string">&#x27;2&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;sample634.PRIMARY&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="sample634을-중복된-값으로-갱신하기"><a href="#sample634을-중복된-값으로-갱신하기" class="headerlink" title="sample634을 중복된 값으로 갱신하기"></a>sample634을 중복된 값으로 갱신하기</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample634 <span class="keyword">SET</span> p<span class="operator">=</span><span class="number">2</span> <span class="keyword">WHERE</span> p<span class="operator">=</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="number">1062</span> (<span class="number">23000</span>): Duplicate entry <span class="string">&#x27;2&#x27;</span> <span class="keyword">for</span> key <span class="string">&#x27;sample634.PRIMARY&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="29장-인덱스-작성과-삭제"><a href="#29장-인덱스-작성과-삭제" class="headerlink" title="29장 인덱스 작성과 삭제"></a>29장 인덱스 작성과 삭제</h2><h2 id="30장-뷰-작성과-삭제"><a href="#30장-뷰-작성과-삭제" class="headerlink" title="30장 뷰 작성과 삭제"></a>30장 뷰 작성과 삭제</h2>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/">DataBase</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/SQL/">SQL</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/delete/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>집계와 서브쿼리</title>
      <link>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/subquery/</link>
      <guid>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/subquery/</guid>
      <pubDate>Sat, 06 Mar 2021 01:01:04 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;집계와-서브쿼리&quot;&gt;&lt;a href=&quot;#집계와-서브쿼리&quot; class=&quot;headerlink&quot; title=&quot;집계와 서브쿼리&quot;&gt;&lt;/a&gt;집계와 서브쿼리&lt;/h1&gt;&lt;h2 id=&quot;행-개수-구하기-COUNT&quot;&gt;&lt;a href=&quot;#행-개수-구하기-COUNT&quot;</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="집계와-서브쿼리"><a href="#집계와-서브쿼리" class="headerlink" title="집계와 서브쿼리"></a>집계와 서브쿼리</h1><h2 id="행-개수-구하기-COUNT"><a href="#행-개수-구하기-COUNT" class="headerlink" title="행 개수 구하기 - COUNT"></a>행 개수 구하기 - COUNT</h2><h3 id="COUNT로-행-개수-구하기"><a href="#COUNT로-행-개수-구하기" class="headerlink" title="COUNT로 행 개수 구하기"></a>COUNT로 행 개수 구하기</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample51;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> name <span class="operator">|</span> quantity <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> B    <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> C    <span class="operator">|</span>        <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> sample51;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="행-개수를-WHERE-구를-지정하여-구하기"><a href="#행-개수를-WHERE-구를-지정하여-구하기" class="headerlink" title="행 개수를 WHERE 구를 지정하여 구하기"></a>행 개수를 WHERE 구를 지정하여 구하기</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample51 <span class="keyword">WHERE</span> name<span class="operator">=</span><span class="string">&#x27;A&#x27;</span>;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> name <span class="operator">|</span> quantity <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> sample51 <span class="keyword">WHERE</span> name <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="집계함수와-NULL값"><a href="#집계함수와-NULL값" class="headerlink" title="집계함수와 NULL값"></a>집계함수와 NULL값</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">no</span>), <span class="built_in">COUNT</span>(name) <span class="keyword">FROM</span> sample51;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">COUNT</span>(<span class="keyword">no</span>) <span class="operator">|</span> <span class="built_in">COUNT</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="operator">|</span>         <span class="number">5</span> <span class="operator">|</span>           <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+-------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="DISTINCT로-중복-제거"><a href="#DISTINCT로-중복-제거" class="headerlink" title="DISTINCT로 중복 제거"></a>DISTINCT로 중복 제거</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample51;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> name <span class="operator">|</span> quantity <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> B    <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> C    <span class="operator">|</span>        <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> name <span class="keyword">FROM</span> sample51;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+------+</span><br><span class="line">| name |</span><br><span class="line">+------+</span><br><span class="line">| A    |</span><br><span class="line">| B    |</span><br><span class="line">| C    |</span><br><span class="line">| NULL |</span><br><span class="line">+------+</span><br><span class="line">4 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure><h3 id="집계함수에서-DISTINCT"><a href="#집계함수에서-DISTINCT" class="headerlink" title="집계함수에서 DISTINCT"></a>집계함수에서 DISTINCT</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="keyword">ALL</span> name), <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> name) <span class="keyword">FROM</span> sample51;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-----------------+----------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">COUNT</span>(<span class="keyword">ALL</span> name) <span class="operator">|</span> <span class="built_in">COUNT</span>(<span class="keyword">DISTINCT</span> name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------+----------------------+</span></span><br><span class="line"><span class="operator">|</span>               <span class="number">4</span> <span class="operator">|</span>                    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------------+----------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="COUNT-이외의-집계함수"><a href="#COUNT-이외의-집계함수" class="headerlink" title="COUNT 이외의 집계함수"></a>COUNT 이외의 집계함수</h2><h3 id="SUM으로-합계-구하기"><a href="#SUM으로-합계-구하기" class="headerlink" title="SUM으로 합계 구하기"></a>SUM으로 합계 구하기</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample51;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> name <span class="operator">|</span> quantity <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> B    <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> C    <span class="operator">|</span>        <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(quantity) <span class="keyword">FROM</span> sample51;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">---------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">SUM</span>(quantity) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+</span></span><br><span class="line"><span class="operator">|</span>            <span class="number">16</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="AVG로-평균내기"><a href="#AVG로-평균내기" class="headerlink" title="AVG로 평균내기"></a>AVG로 평균내기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(quantity), <span class="built_in">SUM</span>(quantity)<span class="operator">/</span><span class="built_in">COUNT</span>(quantity) <span class="keyword">FROM</span> sample51;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">---------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">AVG</span>(quantity) <span class="operator">|</span> <span class="built_in">SUM</span>(quantity)<span class="operator">/</span><span class="built_in">COUNT</span>(quantity) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+-------------------------------+</span></span><br><span class="line"><span class="operator">|</span>        <span class="number">4.0000</span> <span class="operator">|</span>                        <span class="number">4.0000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+-------------------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h3 id="MIN-MAX로-최솟값-최댓값-구하기"><a href="#MIN-MAX로-최솟값-최댓값-구하기" class="headerlink" title="MIN, MAX로 최솟값, 최댓값 구하기"></a>MIN, MAX로 최솟값, 최댓값 구하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(quantity), <span class="built_in">MAX</span>(quantity), <span class="built_in">MIN</span>(name), <span class="built_in">MAX</span>(name) <span class="keyword">FROM</span> sample51;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">---------------+---------------+-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">MIN</span>(quantity) <span class="operator">|</span> <span class="built_in">MAX</span>(quantity) <span class="operator">|</span> <span class="built_in">MIN</span>(name) <span class="operator">|</span> <span class="built_in">MAX</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+---------------+-----------+-----------+</span></span><br><span class="line"><span class="operator">|</span>             <span class="number">1</span> <span class="operator">|</span>            <span class="number">10</span> <span class="operator">|</span> A         <span class="operator">|</span> C         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------------+---------------+-----------+-----------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="그룹화-GROUP-BY"><a href="#그룹화-GROUP-BY" class="headerlink" title="그룹화 - GROUP BY"></a>그룹화 - GROUP BY</h2><h3 id="GROUP-BY로-그룹화"><a href="#GROUP-BY로-그룹화" class="headerlink" title="GROUP BY로 그룹화"></a>GROUP BY로 그룹화</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name <span class="keyword">FROM</span> sample51 <span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> A    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="name-열을-그룹화해-계산하기"><a href="#name-열을-그룹화해-계산하기" class="headerlink" title="name 열을 그룹화해 계산하기"></a>name 열을 그룹화해 계산하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name, <span class="built_in">COUNT</span>(name), <span class="built_in">SUM</span>(quantity) <span class="keyword">FROM</span> sample51 <span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------------+---------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> <span class="built_in">COUNT</span>(name) <span class="operator">|</span> <span class="built_in">SUM</span>(quantity) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+---------------+</span></span><br><span class="line"><span class="operator">|</span> A    <span class="operator">|</span>           <span class="number">2</span> <span class="operator">|</span>             <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span>            <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span>             <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>           <span class="number">0</span> <span class="operator">|</span>          <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+---------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="HAVING-구로-조건-지정"><a href="#HAVING-구로-조건-지정" class="headerlink" title="HAVING 구로 조건 지정"></a>HAVING 구로 조건 지정</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name, <span class="built_in">COUNT</span>(name) <span class="keyword">FROM</span> sample51 <span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> <span class="built_in">COUNT</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+</span></span><br><span class="line"><span class="operator">|</span> A    <span class="operator">|</span>           <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>           <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name, <span class="built_in">COUNT</span>(name) <span class="keyword">FROM</span> sample51 <span class="keyword">GROUP</span> <span class="keyword">BY</span> name <span class="keyword">HAVING</span> <span class="built_in">COUNT</span>(name) <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> <span class="built_in">COUNT</span>(name) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>내부 처리 순서<br>WHERE 구 -&gt; GROUP BY 구 -&gt; HAVING 구 -&gt; SELECT 구 -&gt; ORDER BY 구</p></blockquote><h3 id="복수열의-그룹화"><a href="#복수열의-그룹화" class="headerlink" title="복수열의 그룹화"></a>복수열의 그룹화</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample51;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> name <span class="operator">|</span> quantity <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> A    <span class="operator">|</span>        <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> B    <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> C    <span class="operator">|</span>        <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>     <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>GROUP BY를 사용할 때 주의할 점 : GROUP BY 에 지정한 열 이외의 열은 집계함수를 사용하지 않은 채 SELECT구에 기술해서는 안된다.</p></blockquote><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span>, name, quantity <span class="keyword">FROM</span> sample51 <span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="number">1055</span> (<span class="number">42000</span>): Expression #<span class="number">1</span> <span class="keyword">of</span> <span class="keyword">SELECT</span> list <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">in</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> clause <span class="keyword">and</span> <span class="keyword">contains</span> nonaggregated <span class="keyword">column</span> <span class="string">&#x27;sample.sample51.no&#x27;</span> which <span class="keyword">is</span> <span class="keyword">not</span> functionally dependent <span class="keyword">on</span> columns <span class="keyword">in</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> clause; this <span class="keyword">is</span> incompatible <span class="keyword">with</span> sql_mode<span class="operator">=</span>only_full_group_by</span><br></pre></td></tr></table></figure><p>GROUP BY로 그룹화 하면 클라이언트로 반환되는 결과는 그룹당 하나의 행이 된다. 하지만, name 열 값이 A인 그룹의 quantity 열 값은 1과 2로 두개이므로, 어떤 값을 반환할지 몰라 에러가 뜬다.</p><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(<span class="keyword">no</span>), name, <span class="built_in">SUM</span>(quantity) <span class="keyword">FROM</span> sample51 <span class="keyword">GROUP</span> <span class="keyword">BY</span> name;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">---------+------+---------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">MIN</span>(<span class="keyword">no</span>) <span class="operator">|</span> name <span class="operator">|</span> <span class="built_in">SUM</span>(quantity) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+---------------+</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">1</span> <span class="operator">|</span> A    <span class="operator">|</span>             <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">3</span> <span class="operator">|</span> B    <span class="operator">|</span>            <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">4</span> <span class="operator">|</span> C    <span class="operator">|</span>             <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>       <span class="number">5</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>          <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------+---------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="결과-값-정렬"><a href="#결과-값-정렬" class="headerlink" title="결과 값 정렬"></a>결과 값 정렬</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> name, <span class="built_in">COUNT</span>(name), <span class="built_in">SUM</span>(quantity) <span class="keyword">FROM</span> sample51 <span class="keyword">GROUP</span> <span class="keyword">BY</span> name <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="built_in">SUM</span>(quantity) <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------------+---------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> <span class="built_in">COUNT</span>(name) <span class="operator">|</span> <span class="built_in">SUM</span>(quantity) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+---------------+</span></span><br><span class="line"><span class="operator">|</span> B    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span>            <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> A    <span class="operator">|</span>           <span class="number">2</span> <span class="operator">|</span>             <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C    <span class="operator">|</span>           <span class="number">1</span> <span class="operator">|</span>             <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>           <span class="number">0</span> <span class="operator">|</span>          <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------------+---------------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h2 id="서브-쿼리"><a href="#서브-쿼리" class="headerlink" title="서브 쿼리"></a>서브 쿼리</h2><h3 id="DELETE의-WHERE-구에서-서브쿼리-사용하기"><a href="#DELETE의-WHERE-구에서-서브쿼리-사용하기" class="headerlink" title="DELETE의 WHERE 구에서 서브쿼리 사용하기"></a>DELETE의 WHERE 구에서 서브쿼리 사용하기</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample54;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>   <span class="number">20</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span>   <span class="number">80</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h3 id="최솟값을-가지는-행-삭제하기"><a href="#최솟값을-가지는-행-삭제하기" class="headerlink" title="최솟값을 가지는 행 삭제하기"></a>최솟값을 가지는 행 삭제하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> sample54 <span class="keyword">WHERE</span> a<span class="operator">=</span>(<span class="keyword">SELECT</span> <span class="built_in">MIN</span>(a) <span class="keyword">FROM</span> sample54);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="number">1093</span> (HY000): You can<span class="string">&#x27;t specify target table &#x27;</span>sample54<span class="string">&#x27; for update in FROM clause</span></span><br></pre></td></tr></table></figure><p>데이터를 추가하거나 갱신할 경우 동일한 테이블을 서브쿼리에서 사용할 수 없도록 되어 있기 때문에 이런 에러가 뜬다.</p><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> sample54 <span class="keyword">WHERE</span> a<span class="operator">=</span>(<span class="keyword">SELECT</span> a <span class="keyword">FROM</span>(<span class="keyword">SELECT</span> <span class="built_in">MIN</span>(a) <span class="keyword">AS</span> a <span class="keyword">FROM</span> sample54) <span class="keyword">AS</span> x);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample54;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span>   <span class="number">80</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="스칼라-값"><a href="#스칼라-값" class="headerlink" title="스칼라 값"></a>스칼라 값</h3><h4 id="하나의-값을-반환하는-패턴"><a href="#하나의-값을-반환하는-패턴" class="headerlink" title="하나의 값을 반환하는 패턴"></a>하나의 값을 반환하는 패턴</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(a) <span class="keyword">FROM</span> sample54;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">MIN</span>(a) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">80</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="복수의-행이-반환되지만-열은-하나인-패턴"><a href="#복수의-행이-반환되지만-열은-하나인-패턴" class="headerlink" title="복수의 행이 반환되지만 열은 하나인 패턴"></a>복수의 행이 반환되지만 열은 하나인 패턴</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span> <span class="keyword">FROM</span> sample54;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="하나의-행이-반환되지만-열이-복수인-패턴"><a href="#하나의-행이-반환되지만-열이-복수인-패턴" class="headerlink" title="하나의 행이 반환되지만 열이 복수인 패턴"></a>하나의 행이 반환되지만 열이 복수인 패턴</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(a), <span class="built_in">MAX</span>(<span class="keyword">no</span>) <span class="keyword">FROM</span> sample54;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span> <span class="built_in">MIN</span>(a) <span class="operator">|</span> <span class="built_in">MAX</span>(<span class="keyword">no</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="operator">|</span>     <span class="number">80</span> <span class="operator">|</span>       <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+---------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h4 id="복수의-행-복수의-열이-반환되는-패턴"><a href="#복수의-행-복수의-열이-반환되는-패턴" class="headerlink" title="복수의 행, 복수의 열이 반환되는 패턴"></a>복수의 행, 복수의 열이 반환되는 패턴</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">no</span>, a <span class="keyword">FROM</span> sample54;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>  <span class="number">100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span>   <span class="number">80</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>SELECT 명령이 <code>하나의 값</code>만 반환하는 것을 <code>스칼라 값을 반환한다.</code>고 한다.</p></blockquote><h3 id="SELECT-구에서-서브쿼리-사용하기"><a href="#SELECT-구에서-서브쿼리-사용하기" class="headerlink" title="SELECT 구에서 서브쿼리 사용하기"></a>SELECT 구에서 서브쿼리 사용하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span></span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> sample51) <span class="keyword">AS</span> sq1,</span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> sample51) <span class="keyword">AS</span> sq2;</span><br></pre></td></tr></table></figure><p>My SQL에서는 FROM 구를 생략할 수 있다. 하지만 Oracle등 전통적인 데이터 베이스 제품에서는 FROM을 생략할 수 없습니다.</p><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> sq1  <span class="operator">|</span> sq2  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="SET-구에서-서브쿼리-사용하기"><a href="#SET-구에서-서브쿼리-사용하기" class="headerlink" title="SET 구에서 서브쿼리 사용하기"></a>SET 구에서 서브쿼리 사용하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample54 <span class="keyword">SET</span> a <span class="operator">=</span> (<span class="keyword">SELECT</span> a <span class="keyword">FROM</span> (<span class="keyword">SELECT</span> <span class="built_in">MAX</span>(a) <span class="keyword">AS</span> a <span class="keyword">FROM</span> sample54)<span class="keyword">as</span> x);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample54;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="FROM-구에서-서브쿼리-사용하기"><a href="#FROM-구에서-서브쿼리-사용하기" class="headerlink" title="FROM 구에서 서브쿼리 사용하기"></a>FROM 구에서 서브쿼리 사용하기</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> (<span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample54) sq;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span>  <span class="number">900</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="INSERT-명령과-서브쿼리"><a href="#INSERT-명령과-서브쿼리" class="headerlink" title="INSERT 명령과 서브쿼리"></a>INSERT 명령과 서브쿼리</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample541 <span class="keyword">VALUES</span>(</span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> sample51),</span><br><span class="line">    (<span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) <span class="keyword">FROM</span> sample54)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample541;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span> b    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="INSERT-SELECT"><a href="#INSERT-SELECT" class="headerlink" title="INSERT SELECT"></a>INSERT SELECT</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample541 <span class="keyword">SELECT</span> <span class="number">1</span>,<span class="number">2</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample541;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span> b    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="상관-서브쿼리"><a href="#상관-서브쿼리" class="headerlink" title="상관 서브쿼리"></a>상관 서브쿼리</h2><h3 id="EXISTS"><a href="#EXISTS" class="headerlink" title="EXISTS"></a>EXISTS</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample551;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br></pre></td></tr></table></figure><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample552;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> no2  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>sample 552 테이블에 있는지를 조사한 결과 값을 넣고 싶다.</p><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample551 <span class="keyword">SET</span> a <span class="operator">=</span> <span class="string">&#x27;있음&#x27;</span> <span class="keyword">WHERE</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample552 <span class="keyword">WHERE</span> no2 <span class="operator">=</span> <span class="keyword">no</span>);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample551;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> <span class="keyword">NULL</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="NOT-EXISTS"><a href="#NOT-EXISTS" class="headerlink" title="NOT EXISTS"></a>NOT EXISTS</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample551 <span class="keyword">SET</span> a <span class="operator">=</span> <span class="string">&#x27;없음&#x27;</span> <span class="keyword">WHERE</span></span><br><span class="line">    <span class="keyword">NOT</span> <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample552 <span class="keyword">WHERE</span> no2 <span class="operator">=</span> <span class="keyword">no</span>);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample551;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span> 없음    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span> 없음    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span> 없음    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br></pre></td></tr></table></figure><h3 id="테이블-명-붙이기"><a href="#테이블-명-붙이기" class="headerlink" title="테이블 명 붙이기"></a>테이블 명 붙이기</h3><p>양쪽 테이블에 동일한 이름의 열이 있을 경우 상관 서브 쿼리가 제대로 작동하지 않으므로 테이블 명을 붙일 필요가 있다.</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample551 <span class="keyword">SET</span> a <span class="operator">=</span> <span class="string">&#x27;있음&#x27;</span> <span class="keyword">WHERE</span></span><br><span class="line">    <span class="keyword">EXISTS</span> (<span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample552 <span class="keyword">WHERE</span> sample552.no2 <span class="operator">=</span> sample551.no);</span><br></pre></td></tr></table></figure><h3 id="IN"><a href="#IN" class="headerlink" title="IN"></a>IN</h3><p>집합 안의 값이 존재하는지를 조사할 수 있다.</p><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample551 <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span>(<span class="number">3</span>, <span class="number">5</span>);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br></pre></td></tr></table></figure><h4 id="IN의-오른쪽을-서브쿼리로-지정하기"><a href="#IN의-오른쪽을-서브쿼리로-지정하기" class="headerlink" title="IN의 오른쪽을 서브쿼리로 지정하기"></a>IN의 오른쪽을 서브쿼리로 지정하기</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample551 <span class="keyword">WHERE</span> <span class="keyword">no</span> <span class="keyword">IN</span>(<span class="keyword">SELECT</span> no2 <span class="keyword">FROM</span> sample552);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> a      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span> 있음    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+--------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/">DataBase</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/SQL/">SQL</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/subquery/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>데이터 추가, 삭제, 갱신</title>
      <link>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/dml/</link>
      <guid>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/dml/</guid>
      <pubDate>Sat, 06 Mar 2021 01:00:09 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;데이터-추가-삭제-갱신&quot;&gt;&lt;a href=&quot;#데이터-추가-삭제-갱신&quot; class=&quot;headerlink&quot; title=&quot;데이터 추가, 삭제, 갱신&quot;&gt;&lt;/a&gt;데이터 추가, 삭제, 갱신&lt;/h1&gt;&lt;h2 id=&quot;행-추가하기-INSERT&quot;&gt;&lt;a hre</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="데이터-추가-삭제-갱신"><a href="#데이터-추가-삭제-갱신" class="headerlink" title="데이터 추가, 삭제, 갱신"></a>데이터 추가, 삭제, 갱신</h1><h2 id="행-추가하기-INSERT"><a href="#행-추가하기-INSERT" class="headerlink" title="행 추가하기 - INSERT"></a>행 추가하기 - INSERT</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">Empty</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>현재는 비어있는 테이블이다.</p><h3 id="sample41-열-구성-확인하기"><a href="#sample41-열-구성-확인하기" class="headerlink" title="sample41 열 구성 확인하기"></a>sample41 열 구성 확인하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample41;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type        <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>    <span class="operator">|</span> <span class="type">int</span>         <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> a     <span class="operator">|</span> <span class="type">varchar</span>(<span class="number">30</span>) <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> b     <span class="operator">|</span> <span class="type">date</span>        <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+-------------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><ul><li>no 열은 int(11)이므로 수치형 데이터를 저장할 수 있다.</li><li>a 열은 varchar(30)이므로 최대 길이가 30인 문자열을 저장할 수 있다.</li><li>b 열은 날짜 시간형 데이터를 저장할 수 있다.</li></ul><h3 id="행-추가-하기"><a href="#행-추가-하기" class="headerlink" title="행 추가 하기"></a>행 추가 하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample41 <span class="keyword">VALUES</span>(<span class="number">1</span>, <span class="string">&#x27;ABC&#x27;</span>, <span class="string">&#x27;2014-01-25&#x27;</span>);</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="확인하기"><a href="#확인하기" class="headerlink" title="확인하기"></a>확인하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="값을-저장할-열-지정하기"><a href="#값을-저장할-열-지정하기" class="headerlink" title="값을 저장할 열 지정하기"></a>값을 저장할 열 지정하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample41(a, <span class="keyword">no</span>) <span class="keyword">VALUES</span>(<span class="string">&#x27;XYZ&#x27;</span>, <span class="number">2</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="NOT-NULL-제약"><a href="#NOT-NULL-제약" class="headerlink" title="NOT NULL 제약"></a>NOT NULL 제약</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample41(<span class="keyword">no</span>, a, b) <span class="keyword">VALUES</span>(<span class="keyword">NULL</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>);</span><br><span class="line">ERROR <span class="number">1048</span> (<span class="number">23000</span>): <span class="keyword">Column</span> <span class="string">&#x27;no&#x27;</span> cannot be <span class="keyword">null</span></span><br></pre></td></tr></table></figure><p>행에 값이 없는 상태(NULL)로 두고 싶을 경우 VALUES구에서 NULL로 값을 지정할 수 있다.</p><blockquote><p>no 열에 대해서는 NULL값을 허용하지 않으므로 위 명령어는 에러가 발생한다.</p></blockquote><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample41(<span class="keyword">no</span>, a, b) <span class="keyword">VALUES</span>(<span class="number">3</span>, <span class="keyword">NULL</span>, <span class="keyword">NULL</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="DEFAULT에-대해-알아보기"><a href="#DEFAULT에-대해-알아보기" class="headerlink" title="DEFAULT에 대해 알아보기"></a>DEFAULT에 대해 알아보기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DESC</span> sample411;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">-------+------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> Field <span class="operator">|</span> Type <span class="operator">|</span> <span class="keyword">Null</span> <span class="operator">|</span> Key <span class="operator">|</span> <span class="keyword">Default</span> <span class="operator">|</span> Extra <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------+------+-----+---------+-------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>    <span class="operator">|</span> <span class="type">int</span>  <span class="operator">|</span> <span class="keyword">NO</span>   <span class="operator">|</span>     <span class="operator">|</span> <span class="keyword">NULL</span>    <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> d     <span class="operator">|</span> <span class="type">int</span>  <span class="operator">|</span> YES  <span class="operator">|</span>     <span class="operator">|</span> <span class="number">0</span>       <span class="operator">|</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-------+------+------+-----+---------+-------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><p>sample411테이블 d 열에 대해서는 디폴트 값으로 0이 설정되어 있다.</p><h4 id="값을-생략하지-앟고-행-추가하기"><a href="#값을-생략하지-앟고-행-추가하기" class="headerlink" title="값을 생략하지 앟고 행 추가하기"></a>값을 생략하지 앟고 행 추가하기</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample411(<span class="keyword">no</span>, d) <span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample411;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> d    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br></pre></td></tr></table></figure><h4 id="DEFAULT로-값을-지정해-행-추가하기"><a href="#DEFAULT로-값을-지정해-행-추가하기" class="headerlink" title="DEFAULT로 값을 지정해 행 추가하기"></a>DEFAULT로 값을 지정해 행 추가하기</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample411(<span class="keyword">no</span>, d) <span class="keyword">VALUES</span>(<span class="number">2</span>, <span class="keyword">DEFAULT</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample411;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> d    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span>    <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br></pre></td></tr></table></figure><h4 id="암묵적으로-디폴트값을-가지는-행-추가하기"><a href="#암묵적으로-디폴트값을-가지는-행-추가하기" class="headerlink" title="암묵적으로 디폴트값을 가지는 행 추가하기"></a>암묵적으로 디폴트값을 가지는 행 추가하기</h4><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> sample411(<span class="keyword">no</span>) <span class="keyword">VALUES</span>(<span class="number">3</span>);</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample411;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> d    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span>    <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span>    <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>열을 지정하지 않으면 디폴트값으로 행이 추가된다.</p><h2 id="삭제하기-DELETE"><a href="#삭제하기-DELETE" class="headerlink" title="삭제하기 - DELETE"></a>삭제하기 - DELETE</h2><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p><code>DELETE FROM sample41;</code>로 DELETE 명령을 실행하면 sample41 테이블의 모든 데이터가 삭제된다.</p><h3 id="행-삭제하기"><a href="#행-삭제하기" class="headerlink" title="행 삭제하기"></a>행 삭제하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> sample41 <span class="keyword">WHERE</span> <span class="keyword">no</span><span class="operator">=</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>DELETE 명령은 WHERE 조건에 일치하는 <code>모든 행</code>을 삭제한다.</p></blockquote><h2 id="데이터-갱신하기-UPDATE"><a href="#데이터-갱신하기-UPDATE" class="headerlink" title="데이터 갱신하기 - UPDATE"></a>데이터 갱신하기 - UPDATE</h2><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="keyword">NULL</span>       <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>DELETE와 달리UPDATE는 셀 단위로 데이터를 갱신할 수 있다.<br>UPDATE 명령에서는 set구를 사용하여 갱신할 열과 값을 지정한다. <code>SET 열명 = 값</code> 이때 <code>=</code>는 비교연산자가 아닌, 값을 대입하는 대입 연산자이다.</p><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample41 <span class="keyword">SET</span> b <span class="operator">=</span> <span class="string">&#x27;2014-09-08&#x27;</span> <span class="keyword">WHERE</span> <span class="keyword">no</span><span class="operator">=</span><span class="number">2</span>;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">1</span>  Changed: <span class="number">1</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">1</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="number">2014</span><span class="number">-09</span><span class="number">-08</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>UPDATE 명령에서는 WHERE 조건에 일치하는 ‘모든 행’이 갱신된다.</p></blockquote><h3 id="UPDATE-명령으로-증가-연산하기"><a href="#UPDATE-명령으로-증가-연산하기" class="headerlink" title="UPDATE 명령으로 증가 연산하기"></a>UPDATE 명령으로 증가 연산하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample41 <span class="keyword">SET</span> <span class="keyword">no</span> <span class="operator">=</span> <span class="keyword">no</span><span class="operator">+</span><span class="number">1</span>;</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">2</span>  Changed: <span class="number">2</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> ABC  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-25</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="number">2014</span><span class="number">-09</span><span class="number">-08</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>모든 행의 no값에 1씩 더해진 것을 알 수 있다.</p><h3 id="복수열-갱신"><a href="#복수열-갱신" class="headerlink" title="복수열 갱신"></a>복수열 갱신</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample41 <span class="keyword">SET</span> a<span class="operator">=</span><span class="string">&#x27;xxx&#x27;</span>, b<span class="operator">=</span><span class="string">&#x27;2014-01-01&#x27;</span> <span class="keyword">WHERE</span> <span class="keyword">no</span><span class="operator">=</span><span class="number">2</span>;</span><br><span class="line">Query OK, <span class="number">1</span> <span class="type">row</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">1</span>  Changed: <span class="number">1</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><p>콤마<code>,</code>로 구분하여 갱신할 열을 여러 개 지정할 수 있다.</p><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> xxx  <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> XYZ  <span class="operator">|</span> <span class="number">2014</span><span class="number">-09</span><span class="number">-08</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="NULL로-갱신하기"><a href="#NULL로-갱신하기" class="headerlink" title="NULL로 갱신하기"></a>NULL로 갱신하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE sample41 <span class="keyword">SET</span> a<span class="operator">=</span><span class="keyword">NULL</span>;</span><br><span class="line">Query OK, <span class="number">2</span> <span class="keyword">rows</span> affected (<span class="number">0.00</span> sec)</span><br><span class="line"><span class="keyword">Rows</span> matched: <span class="number">2</span>  Changed: <span class="number">2</span>  Warnings: <span class="number">0</span></span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample41;</span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span> <span class="operator">|</span> a    <span class="operator">|</span> b          <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">2</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-01</span><span class="number">-01</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>  <span class="number">3</span> <span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span> <span class="number">2014</span><span class="number">-09</span><span class="number">-08</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">----+------+------------+</span></span><br><span class="line"><span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><p>NOT NULL 제약이 설정되어 있는 열은 NULL이 허용되지 않는다.</p><h2 id="물리-삭제와-논리-삭제"><a href="#물리-삭제와-논리-삭제" class="headerlink" title="물리 삭제와 논리 삭제"></a>물리 삭제와 논리 삭제</h2><ul><li>물리삭제 : SQL의 DELETE 명령을 사용해 직접 데이터를 삭제하는 방법</li><li>논리삭제 : 삭제 플래그와 같은 열을 미리 준비해 서 삭제 플레그의 값을 유효하게 갱신해두는 삭제 방법(실제 테이블안에 데이터는 남아있다.)</li></ul>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/">DataBase</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/SQL/">SQL</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/dml/#disqus_thread</comments>
      
    </item>
    
    <item>
      <title>정렬과 연산</title>
      <link>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/sort-and-operation/</link>
      <guid>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/sort-and-operation/</guid>
      <pubDate>Sat, 06 Mar 2021 00:58:46 GMT</pubDate>
      
        
        
      <description>&lt;h1 id=&quot;정렬과-연산&quot;&gt;&lt;a href=&quot;#정렬과-연산&quot; class=&quot;headerlink&quot; title=&quot;정렬과 연산&quot;&gt;&lt;/a&gt;정렬과 연산&lt;/h1&gt;&lt;h2 id=&quot;정렬하기-ORDER-BY&quot;&gt;&lt;a href=&quot;#정렬하기-ORDER-BY&quot; class=&quot;he</description>
        
      
      
      
      <content:encoded><![CDATA[<h1 id="정렬과-연산"><a href="#정렬과-연산" class="headerlink" title="정렬과 연산"></a>정렬과 연산</h1><h2 id="정렬하기-ORDER-BY"><a href="#정렬하기-ORDER-BY" class="headerlink" title="정렬하기 - ORDER BY"></a>정렬하기 - ORDER BY</h2><blockquote><p>기존 테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample31;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> age  <span class="operator">|</span> address                   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> A씨  <span class="operator">|</span>   <span class="number">36</span> <span class="operator">|</span> 대구광역시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B씨  <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> 부산광역시 연제구         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C씨  <span class="operator">|</span>   <span class="number">25</span> <span class="operator">|</span> 서울특별시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="age를-기준으로-테이블-정렬하기"><a href="#age를-기준으로-테이블-정렬하기" class="headerlink" title="age를 기준으로 테이블 정렬하기"></a>age를 기준으로 테이블 정렬하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample31 <span class="keyword">ORDER</span> <span class="keyword">BY</span> age;</span><br></pre></td></tr></table></figure><p>나이를 기준으로 테이블<code>sample31</code>을 정렬하였다.</p><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> age  <span class="operator">|</span> address                   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> B씨  <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> 부산광역시 연제구         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C씨  <span class="operator">|</span>   <span class="number">25</span> <span class="operator">|</span> 서울특별시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> A씨  <span class="operator">|</span>   <span class="number">36</span> <span class="operator">|</span> 대구광역시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><p><code>오름차순</code>으로 정렬되었음을 확인할 수 있다.</p><h3 id="address를-기준으로-테이블-정리하기"><a href="#address를-기준으로-테이블-정리하기" class="headerlink" title="address를 기준으로 테이블 정리하기"></a>address를 기준으로 테이블 정리하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample31 <span class="keyword">ORDER</span> <span class="keyword">BY</span> address;</span><br></pre></td></tr></table></figure><p><code>address</code>를 기준으로 테이블을 정렬 시켰다.</p><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> age  <span class="operator">|</span> address                   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> A씨  <span class="operator">|</span>   <span class="number">36</span> <span class="operator">|</span> 대구광역시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B씨  <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> 부산광역시 연제구         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C씨  <span class="operator">|</span>   <span class="number">25</span> <span class="operator">|</span> 서울특별시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br></pre></td></tr></table></figure><p><code>사전순</code>으로 테이블이 정렬되었다.</p><h2 id="내림-차순으로-정렬하기-DESC"><a href="#내림-차순으로-정렬하기-DESC" class="headerlink" title="내림 차순으로 정렬하기 - DESC"></a>내림 차순으로 정렬하기 - DESC</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample31 <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><p><code>DESC</code>를 붙임으로써 테이블을 내림차순으로 정렬한다.</p><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> age  <span class="operator">|</span> address                   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> A씨  <span class="operator">|</span>   <span class="number">36</span> <span class="operator">|</span> 대구광역시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C씨  <span class="operator">|</span>   <span class="number">25</span> <span class="operator">|</span> 서울특별시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> B씨  <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> 부산광역시 연제구         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="오름-차순으로-정렬하기-AES"><a href="#오름-차순으로-정렬하기-AES" class="headerlink" title="오름 차순으로 정렬하기 - AES"></a>오름 차순으로 정렬하기 - AES</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample31 <span class="keyword">ORDER</span> <span class="keyword">BY</span> age <span class="keyword">ASC</span>;</span><br></pre></td></tr></table></figure><p><code>ASC</code>를 붙임으로써 테이블을 오름차순으로 정렬한다. <code>ASC</code>는 생략 가능</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> name <span class="operator">|</span> age  <span class="operator">|</span> address                   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="operator">|</span> B씨  <span class="operator">|</span>   <span class="number">18</span> <span class="operator">|</span> 부산광역시 연제구         <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> C씨  <span class="operator">|</span>   <span class="number">25</span> <span class="operator">|</span> 서울특별시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> A씨  <span class="operator">|</span>   <span class="number">36</span> <span class="operator">|</span> 대구광역시 중구           <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+---------------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="복수의-열을-지정해-정렬하기"><a href="#복수의-열을-지정해-정렬하기" class="headerlink" title="복수의 열을 지정해 정렬하기"></a>복수의 열을 지정해 정렬하기</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample32 <span class="keyword">ORDER</span> <span class="keyword">BY</span> a;</span><br></pre></td></tr></table></figure><h4 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span> b    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample32 <span class="keyword">ORDER</span> <span class="keyword">BY</span> b,a;</span><br></pre></td></tr></table></figure><h4 id="결과-1"><a href="#결과-1" class="headerlink" title="결과"></a>결과</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span> b    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="정렬방법-지정하기"><a href="#정렬방법-지정하기" class="headerlink" title="정렬방법 지정하기"></a>정렬방법 지정하기</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample32 <span class="keyword">ORDER</span> <span class="keyword">BY</span> a <span class="keyword">ASC</span>, b <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><h3 id="결과-2"><a href="#결과-2" class="headerlink" title="결과"></a>결과</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span> b    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="결과-행-제한하기-LIMIT"><a href="#결과-행-제한하기-LIMIT" class="headerlink" title="결과 행 제한하기 - LIMIT"></a>결과 행 제한하기 - LIMIT</h2><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">6</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">7</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">7</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample33 LIMIT <span class="number">3</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="정렬-후-LIMIT로-행수-제한하기"><a href="#정렬-후-LIMIT로-행수-제한하기" class="headerlink" title="정렬 후 LIMIT로 행수 제한하기"></a>정렬 후 LIMIT로 행수 제한하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample33 <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">no</span> <span class="keyword">DESC</span> LIMIT <span class="number">3</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">7</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">6</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">5</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="LIMIT를-사용할-수-없는-데이터베이스에서의-행-제한"><a href="#LIMIT를-사용할-수-없는-데이터베이스에서의-행-제한" class="headerlink" title="LIMIT를 사용할 수 없는 데이터베이스에서의 행 제한"></a>LIMIT를 사용할 수 없는 데이터베이스에서의 행 제한</h3><blockquote><p>SQL Server</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">3</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample33;</span><br></pre></td></tr></table></figure><blockquote><p>ORACLE</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample33 <span class="keyword">WHERE</span> ROWNUM<span class="operator">&lt;=</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure><h2 id="오프셋-지정-OFFSET"><a href="#오프셋-지정-OFFSET" class="headerlink" title="오프셋 지정 - OFFSET"></a>오프셋 지정 - OFFSET</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample33 LIMIT <span class="number">3</span> <span class="keyword">OFFSET</span> <span class="number">0</span>;</span><br></pre></td></tr></table></figure><h2 id="수치-연산"><a href="#수치-연산" class="headerlink" title="수치 연산"></a>수치 연산</h2><blockquote><p>기본 테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample34;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>  <span class="number">1980</span> <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span>, price<span class="operator">*</span>quantity <span class="keyword">FROM</span> sample34;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+----------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span> price<span class="operator">*</span>quantity <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+----------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span>           <span class="number">1000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span>           <span class="number">5520</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>  <span class="number">1980</span> <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span>           <span class="number">1980</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+----------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="열의-별명-AS"><a href="#열의-별명-AS" class="headerlink" title="열의 별명 - AS"></a>열의 별명 - AS</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span>, price<span class="operator">*</span>quantity <span class="keyword">AS</span> amount <span class="keyword">FROM</span> sample34;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span> amount <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span>   <span class="number">1000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span>   <span class="number">5520</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>  <span class="number">1980</span> <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span>, price<span class="operator">*</span>quantity &quot;금액&quot; <span class="keyword">FROM</span> sample34;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span> 금액   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span>   <span class="number">1000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span>   <span class="number">5520</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>  <span class="number">1980</span> <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="WHERE-구에서-계산-검색하기"><a href="#WHERE-구에서-계산-검색하기" class="headerlink" title="WHERE 구에서 계산, 검색하기"></a>WHERE 구에서 계산, 검색하기</h2><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span>, price<span class="operator">*</span>quantity <span class="keyword">AS</span> amount <span class="keyword">FROM</span> sample34 <span class="keyword">WHERE</span> price<span class="operator">*</span>quantity <span class="operator">&gt;=</span> <span class="number">2000</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span> amount <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span>   <span class="number">5520</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span>, price<span class="operator">*</span>quantity <span class="keyword">AS</span> amount <span class="keyword">FROM</span> sample34 <span class="keyword">WHERE</span> amount <span class="operator">&gt;=</span> <span class="number">2000</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="number">1054</span> (<span class="number">42</span>S22): <span class="literal">Unknown</span> <span class="keyword">column</span> <span class="string">&#x27;amount&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;where clause&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span>, price<span class="operator">*</span>quantity <span class="keyword">AS</span> amount <span class="keyword">FROM</span> sample34 <span class="keyword">ORDER</span> <span class="keyword">BY</span> price<span class="operator">*</span>quantity <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span> amount <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span>   <span class="number">5520</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>  <span class="number">1980</span> <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span>   <span class="number">1000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span>, price<span class="operator">*</span>quantity <span class="keyword">AS</span> amount <span class="keyword">FROM</span> sample34 <span class="keyword">ORDER</span> <span class="keyword">BY</span> amount <span class="keyword">DESC</span>;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span> amount <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span>   <span class="number">5520</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>  <span class="number">1980</span> <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span>   <span class="number">1980</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span>   <span class="number">1000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+--------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br></pre></td></tr></table></figure><h2 id="ROUND-함수-반올림"><a href="#ROUND-함수-반올림" class="headerlink" title="ROUND 함수 - 반올림"></a>ROUND 함수 - 반올림</h2><blockquote><p>기존 테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span><span class="operator">*</span> <span class="keyword">FROM</span> sample341;</span><br><span class="line"><span class="operator">+</span><span class="comment">---------+</span></span><br><span class="line"><span class="operator">|</span> amount  <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">5961.60</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2138.40</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1080.00</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> amount, ROUND(amount) <span class="keyword">FROM</span> sample341;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">---------+---------------+</span></span><br><span class="line"><span class="operator">|</span> amount  <span class="operator">|</span> ROUND(amount) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+---------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">5961.60</span> <span class="operator">|</span>          <span class="number">5962</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2138.40</span> <span class="operator">|</span>          <span class="number">2138</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1080.00</span> <span class="operator">|</span>          <span class="number">1080</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+---------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="소수점-둘째-자리에서-반올림하기"><a href="#소수점-둘째-자리에서-반올림하기" class="headerlink" title="소수점 둘째 자리에서 반올림하기"></a>소수점 둘째 자리에서 반올림하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> amount, ROUND(amount, <span class="number">1</span>) <span class="keyword">FROM</span> sample341;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">---------+------------------+</span></span><br><span class="line"><span class="operator">|</span> amount  <span class="operator">|</span> ROUND(amount, <span class="number">1</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">5961.60</span> <span class="operator">|</span>           <span class="number">5961.6</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2138.40</span> <span class="operator">|</span>           <span class="number">2138.4</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1080.00</span> <span class="operator">|</span>           <span class="number">1080.0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="10-단위를-반올림-하기"><a href="#10-단위를-반올림-하기" class="headerlink" title="10 단위를 반올림 하기"></a>10 단위를 반올림 하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> amount, ROUND(amount, <span class="number">-2</span>) <span class="keyword">FROM</span> sample341;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">---------+-------------------+</span></span><br><span class="line"><span class="operator">|</span> amount  <span class="operator">|</span> ROUND(amount, <span class="number">-2</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">5961.60</span> <span class="operator">|</span>              <span class="number">6000</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">2138.40</span> <span class="operator">|</span>              <span class="number">2100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1080.00</span> <span class="operator">|</span>              <span class="number">1100</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">---------+-------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h2 id="문자열-연산"><a href="#문자열-연산" class="headerlink" title="문자열 연산"></a>문자열 연산</h2><h3 id="문자열-결합-CONCAT"><a href="#문자열-결합-CONCAT" class="headerlink" title="문자열 결합 - CONCAT"></a>문자열 결합 - CONCAT</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> sample35;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">no</span>   <span class="operator">|</span> price <span class="operator">|</span> quantity <span class="operator">|</span> unit <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>   <span class="number">100</span> <span class="operator">|</span>       <span class="number">10</span> <span class="operator">|</span> 개   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>   <span class="number">230</span> <span class="operator">|</span>       <span class="number">24</span> <span class="operator">|</span> 통   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">3</span> <span class="operator">|</span>  <span class="number">1980</span> <span class="operator">|</span>        <span class="number">1</span> <span class="operator">|</span> 장   <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-------+----------+------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> CONCAT(quantity, unit) <span class="keyword">FROM</span> sample35;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------------------------+</span></span><br><span class="line"><span class="operator">|</span> CONCAT(quantity, unit) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="number">10</span>개                   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">24</span>통                   <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="number">1</span>장                    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------------------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.04</span> sec)</span><br></pre></td></tr></table></figure><h2 id="CASE-문으로-데이터-변환하기"><a href="#CASE-문으로-데이터-변환하기" class="headerlink" title="CASE 문으로 데이터 변환하기"></a>CASE 문으로 데이터 변환하기</h2><h3 id="CASE로-NULL-값을-0으로-변환하기"><a href="#CASE로-NULL-값을-0으로-변환하기" class="headerlink" title="CASE로 NULL 값을 0으로 변환하기"></a>CASE로 NULL 값을 0으로 변환하기</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a, </span><br><span class="line">    <span class="keyword">CASE</span> </span><br><span class="line">        <span class="keyword">WHEN</span> a <span class="keyword">IS</span> <span class="keyword">NULL</span> <span class="keyword">THEN</span> <span class="number">0</span>  </span><br><span class="line">        <span class="keyword">ELSE</span> a </span><br><span class="line">    <span class="keyword">END</span> &quot;a(null=0)&quot; </span><br><span class="line"><span class="keyword">FROM</span> sample37;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+-----------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span> a(<span class="keyword">null</span><span class="operator">=</span><span class="number">0</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>         <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>         <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>         <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+-----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)  </span><br></pre></td></tr></table></figure><h3 id="COALESCE-함수를-이용한-NULL값-변환"><a href="#COALESCE-함수를-이용한-NULL값-변환" class="headerlink" title="COALESCE 함수를 이용한 NULL값 변환"></a>COALESCE 함수를 이용한 NULL값 변환</h3><blockquote><p>테이블</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> sample37;</span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a, <span class="built_in">COALESCE</span>(a,<span class="number">0</span>) <span class="keyword">FROM</span> sample37;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">------+---------------+</span></span><br><span class="line"><span class="operator">|</span> a    <span class="operator">|</span> <span class="built_in">COALESCE</span>(a,<span class="number">0</span>) <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+---------------+</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">1</span> <span class="operator">|</span>             <span class="number">1</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>    <span class="number">2</span> <span class="operator">|</span>             <span class="number">2</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span> <span class="operator">|</span>             <span class="number">0</span> <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">------+---------------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure><h3 id="CASE로-NULL-값을-0으로-반환하기"><a href="#CASE로-NULL-값을-0으로-반환하기" class="headerlink" title="CASE로 NULL 값을 0으로 반환하기"></a>CASE로 NULL 값을 0으로 반환하기</h3><blockquote><p>명령어</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> a <span class="keyword">AS</span> &quot;코드&quot;, </span><br><span class="line">    <span class="keyword">CASE</span> </span><br><span class="line">        <span class="keyword">WHEN</span> a<span class="operator">=</span><span class="number">1</span> <span class="keyword">THEN</span> <span class="string">&#x27;남자&#x27;</span> </span><br><span class="line">        <span class="keyword">WHEN</span> a<span class="operator">=</span><span class="number">2</span> <span class="keyword">THEN</span> <span class="string">&#x27;여자&#x27;</span> </span><br><span class="line">        <span class="keyword">ELSE</span> <span class="string">&#x27;미지정&#x27;</span> </span><br><span class="line">    <span class="keyword">END</span> <span class="keyword">AS</span> &quot;성별&quot; </span><br><span class="line"><span class="keyword">FROM</span> sample37;</span><br></pre></td></tr></table></figure><blockquote><p>결과</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">+</span><span class="comment">--------+-----------+</span></span><br><span class="line"><span class="operator">|</span> 코드   <span class="operator">|</span> 성별      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------+</span></span><br><span class="line"><span class="operator">|</span>      <span class="number">1</span> <span class="operator">|</span> 남자      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>      <span class="number">2</span> <span class="operator">|</span> 여자      <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span>   <span class="keyword">NULL</span> <span class="operator">|</span> 미지정    <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------+-----------+</span></span><br><span class="line"><span class="number">3</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>]]></content:encoded>
      
      
      <category domain="https://ckck803.github.io/categories/CS/">CS</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/">DataBase</category>
      
      <category domain="https://ckck803.github.io/categories/CS/DataBase/SQL/">SQL</category>
      
      
      
      <comments>https://ckck803.github.io/2021/03/06/computer-science/database/SQL/sort-and-operation/#disqus_thread</comments>
      
    </item>
    
  </channel>
</rss>
